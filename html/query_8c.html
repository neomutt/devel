<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: query.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mutt.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">1.7.1</span>
   </div>
   <div id="projectbrief">Mail Reader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">query.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="mutt_8h_source.html">mutt.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mutt__menu_8h_source.html">mutt_menu.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mutt__idna_8h_source.html">mutt_idna.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mapping_8h_source.html">mapping.h</a>&quot;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
</div>
<p><a href="query_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structQUERY.html">QUERY</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structENTRY.html">ENTRY</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adcbc14cfce9bfccbf6b01f157eda4d53"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#adcbc14cfce9bfccbf6b01f157eda4d53">query_menu</a> (char *buf, size_t buflen, <a class="el" href="structQUERY.html">QUERY</a> *results, int retbuf)</td></tr>
<tr class="separator:adcbc14cfce9bfccbf6b01f157eda4d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97bd0bd3b2224cf8c68e804665129ca"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structADDRESS.html">ADDRESS</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a> (<a class="el" href="structQUERY.html">QUERY</a> *r)</td></tr>
<tr class="separator:aa97bd0bd3b2224cf8c68e804665129ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4138e640f77ec479114e7322d8695d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#aa4138e640f77ec479114e7322d8695d8">free_query</a> (<a class="el" href="structQUERY.html">QUERY</a> **query)</td></tr>
<tr class="separator:aa4138e640f77ec479114e7322d8695d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde8f82328d796556d6efb18207def61"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structQUERY.html">QUERY</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#abde8f82328d796556d6efb18207def61">run_query</a> (char *s, int quiet)</td></tr>
<tr class="separator:abde8f82328d796556d6efb18207def61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3019ad1f32a6e8bafa2c1e740f822e9b"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#a3019ad1f32a6e8bafa2c1e740f822e9b">query_search</a> (<a class="el" href="structMUTTMENU.html">MUTTMENU</a> *m, regex_t *re, int <a class="el" href="ngettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>)</td></tr>
<tr class="separator:a3019ad1f32a6e8bafa2c1e740f822e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed87327a73580721c36cf3a72b6e0763"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#aed87327a73580721c36cf3a72b6e0763">query_format_str</a> (char *dest, size_t destlen, size_t col, int cols, char op, <a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *src, <a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *fmt, <a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *ifstring, <a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *elsestring, unsigned long data, <a class="el" href="mutt_8h.html#a9498724ab6e4b2d35b96c492374513ae">format_flag</a> flags)</td></tr>
<tr class="separator:aed87327a73580721c36cf3a72b6e0763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a136326500c877ec56cfaf37b49b85572"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#a136326500c877ec56cfaf37b49b85572">query_entry</a> (char *s, size_t slen, <a class="el" href="structMUTTMENU.html">MUTTMENU</a> *m, int num)</td></tr>
<tr class="separator:a136326500c877ec56cfaf37b49b85572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d246e5d5e99f20abc3a074faa93b5c5"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#a5d246e5d5e99f20abc3a074faa93b5c5">query_tag</a> (<a class="el" href="structMUTTMENU.html">MUTTMENU</a> *menu, int <a class="el" href="ngettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>, int m)</td></tr>
<tr class="separator:a5d246e5d5e99f20abc3a074faa93b5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b2d84a549146532bad0a1c33bad391"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#a78b2d84a549146532bad0a1c33bad391">mutt_query_complete</a> (char *buf, size_t buflen)</td></tr>
<tr class="separator:a78b2d84a549146532bad0a1c33bad391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec11a6fe48256de264445a62b71fc070"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#aec11a6fe48256de264445a62b71fc070">mutt_query_menu</a> (char *buf, size_t buflen)</td></tr>
<tr class="separator:aec11a6fe48256de264445a62b71fc070"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4515de763378bb3127f0a9ea5730479d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="structmapping__t.html">mapping_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="query_8c.html#a4515de763378bb3127f0a9ea5730479d">QueryHelp</a> []</td></tr>
<tr class="separator:a4515de763378bb3127f0a9ea5730479d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="adcbc14cfce9bfccbf6b01f157eda4d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcbc14cfce9bfccbf6b01f157eda4d53">&#9670;&nbsp;</a></span>query_menu()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void query_menu </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structQUERY.html">QUERY</a> *&#160;</td>
          <td class="paramname"><em>results</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>retbuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00310">310</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;{</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;  <a class="code" href="structMUTTMENU.html">MUTTMENU</a> *menu;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <a class="code" href="structHEADER.html">HEADER</a> *msg = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;  <a class="code" href="structENTRY.html">ENTRY</a> *QueryTable = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;  <a class="code" href="structQUERY.html">QUERY</a> *queryp = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>, done = 0;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;  <span class="keywordtype">int</span> op;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;  <span class="keywordtype">char</span> helpstr[<a class="code" href="dotlock_8c.html#a2ed4d73ac96556fca2623216ca4a4e4a">LONG_STRING</a>];</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;  <span class="keywordtype">char</span> title[<a class="code" href="lib_8h.html#a0f4d394a3ab4e09bff60f714c66dc5ee">STRING</a>];</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;  <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (title, <span class="keyword">sizeof</span> (title), <a class="code" href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Query&quot;</span>)); <span class="comment">/* FIXME */</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;  menu = <a class="code" href="menu_8c.html#a21d918fa834c1f74c117df10e5d9df93">mutt_new_menu</a> (<a class="code" href="keymap_8h.html#aba01db17f4a2bfbc3db60dc172972a25a739c790e5df497ca3d7e7f2e3837aaf1">MENU_QUERY</a>);</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;  menu-&gt;<a class="code" href="structMUTTMENU.html#ad0b5347990ea16f9f770e593d96c14e5">make_entry</a> = <a class="code" href="query_8c.html#a136326500c877ec56cfaf37b49b85572">query_entry</a>;</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;  menu-&gt;<a class="code" href="structMUTTMENU.html#a0ad4a89b2c25f336d0376ec85c900046">search</a> = <a class="code" href="query_8c.html#a3019ad1f32a6e8bafa2c1e740f822e9b">query_search</a>;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;  menu-&gt;<a class="code" href="structMUTTMENU.html#a6f2a56bd7a7a3a96667373f6efa740f2">tag</a> = <a class="code" href="query_8c.html#a5d246e5d5e99f20abc3a074faa93b5c5">query_tag</a>;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;  menu-&gt;<a class="code" href="structMUTTMENU.html#a3e3fe4f6bee20504507d0ec77e91b21c">title</a> = title;</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;  menu-&gt;<a class="code" href="structMUTTMENU.html#ac5d27c04c60fa453488265caab0e43c5">help</a> = <a class="code" href="help_8c.html#a49a09dba757c84cbf5b4370b5bcd04d0">mutt_compile_help</a> (helpstr, <span class="keyword">sizeof</span> (helpstr), <a class="code" href="keymap_8h.html#aba01db17f4a2bfbc3db60dc172972a25a739c790e5df497ca3d7e7f2e3837aaf1">MENU_QUERY</a>, <a class="code" href="query_8c.html#a4515de763378bb3127f0a9ea5730479d">QueryHelp</a>);</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;  <span class="keywordflow">if</span> (results == <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;  {</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="comment">/* Prompt for Query */</span></div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="protos_8h.html#a6e703c475e57d903e73e3b03ccec20b9">mutt_get_field</a> (<a class="code" href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Query: &quot;</span>), buf, buflen, 0) == 0 &amp;&amp; buf[0])</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;    {</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;      results = <a class="code" href="query_8c.html#abde8f82328d796556d6efb18207def61">run_query</a> (buf, 0);</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  }</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">if</span> (results)</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (title, <span class="keyword">sizeof</span> (title), <a class="code" href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Query &#39;%s&#39;&quot;</span>), buf);</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">/* count the number of results */</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="keywordflow">for</span> (queryp = results; queryp; queryp = queryp-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>)</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;      menu-&gt;<a class="code" href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">max</a>++;</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    menu-&gt;<a class="code" href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">data</a> = QueryTable = (<a class="code" href="structENTRY.html">ENTRY</a> *) <a class="code" href="lib_8c.html#a725ea15665b1be820aee11fddd857f8a">safe_calloc</a> (menu-&gt;<a class="code" href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">max</a>, sizeof (<a class="code" href="structENTRY.html">ENTRY</a>));</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="keywordflow">for</span> (i = 0, queryp = results; queryp; queryp = queryp-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>, i++)</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      QueryTable[i].data = queryp;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">while</span> (!done)</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    {</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;      <span class="keywordflow">switch</span> ((op = <a class="code" href="menu_8c.html#ac4a1fcff5eeb3f969897550a20003801">mutt_menuLoop</a> (menu)))</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;      {</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        <span class="keywordflow">case</span> OP_QUERY_APPEND:</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;        <span class="keywordflow">case</span> OP_QUERY:</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;          <span class="keywordflow">if</span> (<a class="code" href="protos_8h.html#a6e703c475e57d903e73e3b03ccec20b9">mutt_get_field</a> (<a class="code" href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Query: &quot;</span>), buf, buflen, 0) == 0 &amp;&amp; buf[0])</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;          {</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <a class="code" href="structQUERY.html">QUERY</a> *newresults = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            newresults = <a class="code" href="query_8c.html#abde8f82328d796556d6efb18207def61">run_query</a> (buf, 0);</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            menu-&gt;<a class="code" href="structMUTTMENU.html#a39f301acf1e8bfa0eef2d5a5e3c85c1b">redraw</a> = <a class="code" href="mutt__menu_8h.html#a716ec76c9c77fe08876a80a7859bde2c">REDRAW_FULL</a>;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            <span class="keywordflow">if</span> (newresults)</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            {</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;              <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (title, <span class="keyword">sizeof</span> (title), <a class="code" href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Query &#39;%s&#39;&quot;</span>), buf);</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;              <span class="keywordflow">if</span> (op == OP_QUERY)</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;              {</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                <a class="code" href="query_8c.html#aa4138e640f77ec479114e7322d8695d8">free_query</a> (&amp;results);</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                results = newresults;</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                <a class="code" href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a> (&amp;QueryTable);</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;              }</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;              <span class="keywordflow">else</span></div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;              {</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                <span class="comment">/* append */</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;                <span class="keywordflow">for</span> (queryp = results; queryp-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>; queryp = queryp-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>);</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                queryp-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a> = newresults;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;              }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;              menu-&gt;<a class="code" href="structMUTTMENU.html#a43778138cb1721958befcce505b9ca31">current</a> = 0;</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;              <a class="code" href="menu_8c.html#a1950e3d8a7420f9b9e385def712ebdc4">mutt_menuDestroy</a> (&amp;menu);</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;              menu = <a class="code" href="menu_8c.html#a21d918fa834c1f74c117df10e5d9df93">mutt_new_menu</a> (<a class="code" href="keymap_8h.html#aba01db17f4a2bfbc3db60dc172972a25a739c790e5df497ca3d7e7f2e3837aaf1">MENU_QUERY</a>);</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;              menu-&gt;<a class="code" href="structMUTTMENU.html#ad0b5347990ea16f9f770e593d96c14e5">make_entry</a> = <a class="code" href="query_8c.html#a136326500c877ec56cfaf37b49b85572">query_entry</a>;</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;              menu-&gt;<a class="code" href="structMUTTMENU.html#a0ad4a89b2c25f336d0376ec85c900046">search</a> = <a class="code" href="query_8c.html#a3019ad1f32a6e8bafa2c1e740f822e9b">query_search</a>;</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;              menu-&gt;<a class="code" href="structMUTTMENU.html#a6f2a56bd7a7a3a96667373f6efa740f2">tag</a> = <a class="code" href="query_8c.html#a5d246e5d5e99f20abc3a074faa93b5c5">query_tag</a>;</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;              menu-&gt;<a class="code" href="structMUTTMENU.html#a3e3fe4f6bee20504507d0ec77e91b21c">title</a> = title;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;              menu-&gt;<a class="code" href="structMUTTMENU.html#ac5d27c04c60fa453488265caab0e43c5">help</a> = <a class="code" href="help_8c.html#a49a09dba757c84cbf5b4370b5bcd04d0">mutt_compile_help</a> (helpstr, <span class="keyword">sizeof</span> (helpstr), <a class="code" href="keymap_8h.html#aba01db17f4a2bfbc3db60dc172972a25a739c790e5df497ca3d7e7f2e3837aaf1">MENU_QUERY</a>, <a class="code" href="query_8c.html#a4515de763378bb3127f0a9ea5730479d">QueryHelp</a>);</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;              <span class="comment">/* count the number of results */</span></div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;              <span class="keywordflow">for</span> (queryp = results; queryp; queryp = queryp-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>)</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;                menu-&gt;<a class="code" href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">max</a>++;</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;              <a class="code" href="dcigettext_8c.html#a2a80cd63d279b93c467263ec08a78bfa">if</a> (op == OP_QUERY)</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;              {</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;                menu-&gt;<a class="code" href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">data</a> = QueryTable = </div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;                  (<a class="code" href="structENTRY.html">ENTRY</a> *) <a class="code" href="lib_8c.html#a725ea15665b1be820aee11fddd857f8a">safe_calloc</a> (menu-&gt;<a class="code" href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">max</a>, sizeof (<a class="code" href="structENTRY.html">ENTRY</a>));</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;                <span class="keywordflow">for</span> (i = 0, queryp = results; queryp; </div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;                     queryp = queryp-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>, i++)</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;                  QueryTable[i].data = queryp;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;              }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;              <span class="keywordflow">else</span></div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;              {</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;                <span class="keywordtype">int</span> clear = 0;</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;                <span class="comment">/* append */</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                <a class="code" href="lib_8c.html#aae229de722d5af03dddc42f0c319349c">safe_realloc</a> (&amp;QueryTable, menu-&gt;<a class="code" href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">max</a> * sizeof (<a class="code" href="structENTRY.html">ENTRY</a>));</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                menu-&gt;<a class="code" href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">data</a> = QueryTable;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                <span class="keywordflow">for</span> (i = 0, queryp = results; queryp; </div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                     queryp = queryp-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>, i++)</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;                {</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;                  <span class="comment">/* once we hit new entries, clear/init the tag */</span></div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                  <span class="keywordflow">if</span> (queryp == newresults)</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;                    clear = 1;</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;                  QueryTable[<a class="code" href="gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">data</a> = queryp;</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;                  <span class="keywordflow">if</span> (clear)</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;                    QueryTable[<a class="code" href="gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>].<a class="code" href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">tagged</a> = 0;</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;                }</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;              }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;            }</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;          }</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;        <span class="keywordflow">case</span> OP_CREATE_ALIAS:</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;          <span class="keywordflow">if</span> (menu-&gt;<a class="code" href="structMUTTMENU.html#a72a7668fa2d15b507ef6a6e6f60b9b8e">tagprefix</a>)</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;          {</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            <a class="code" href="structADDRESS.html">ADDRESS</a> *naddr = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; menu-&gt;<a class="code" href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">max</a>; i++)</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;              <span class="keywordflow">if</span> (QueryTable[i].tagged)</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;              {</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                <a class="code" href="structADDRESS.html">ADDRESS</a> *a = <a class="code" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a>(QueryTable[i].data);</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                <a class="code" href="rfc822_8c.html#afc80dbb33e994a3c23df94982c66a7f7">rfc822_append</a> (&amp;naddr, a, 0);</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                <a class="code" href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a> (&amp;a);</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;              }</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;            <a class="code" href="alias_8c.html#a86ad0ef34320b35a8c73f9e0977cec63">mutt_create_alias</a> (<a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, naddr);</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;          }</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;          {</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;            <a class="code" href="structADDRESS.html">ADDRESS</a> *a = <a class="code" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a>(QueryTable[menu-&gt;<a class="code" href="structMUTTMENU.html#a43778138cb1721958befcce505b9ca31">current</a>].<a class="code" href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">data</a>);</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;            <a class="code" href="alias_8c.html#a86ad0ef34320b35a8c73f9e0977cec63">mutt_create_alias</a> (<a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, a);</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;            <a class="code" href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a> (&amp;a);</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;          }</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="keywordflow">case</span> OP_GENERIC_SELECT_ENTRY:</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;          <span class="keywordflow">if</span> (retbuf)</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;          {</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;            done = 2;</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">break</span>;</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;          }</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;          <span class="comment">/* fall through to OP_MAIL */</span></div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;        <span class="keywordflow">case</span> OP_MAIL:</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;          msg = <a class="code" href="protos_8h.html#ac0665efcb55965ec87b1626c794ffcfa">mutt_new_header</a> ();</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;          msg-&gt;<a class="code" href="structHEADER.html#ae018c74ea2e19cfc03288a0e2d28bb24">env</a> = <a class="code" href="protos_8h.html#ad32e7c5b93058eee3c10159549d69a91">mutt_new_envelope</a> ();</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;          <span class="keywordflow">if</span> (!menu-&gt;<a class="code" href="structMUTTMENU.html#a72a7668fa2d15b507ef6a6e6f60b9b8e">tagprefix</a>)</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;          {</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;            msg-&gt;<a class="code" href="structHEADER.html#ae018c74ea2e19cfc03288a0e2d28bb24">env</a>-&gt;<a class="code" href="structENVELOPE.html#a5106f8d2d739c68039d863bb5465d583">to</a> = <a class="code" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a>(QueryTable[menu-&gt;<a class="code" href="structMUTTMENU.html#a43778138cb1721958befcce505b9ca31">current</a>].<a class="code" href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">data</a>);</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;          }</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;          <span class="keywordflow">else</span></div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;          {</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;            <span class="keywordflow">for</span> (i = 0; i &lt; menu-&gt;<a class="code" href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">max</a>; i++)</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;              <span class="keywordflow">if</span> (QueryTable[i].tagged)</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;              {</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                <a class="code" href="structADDRESS.html">ADDRESS</a> *a = <a class="code" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a>(QueryTable[i].data);</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;                <a class="code" href="rfc822_8c.html#afc80dbb33e994a3c23df94982c66a7f7">rfc822_append</a> (&amp;msg-&gt;<a class="code" href="structHEADER.html#ae018c74ea2e19cfc03288a0e2d28bb24">env</a>-&gt;<a class="code" href="structENVELOPE.html#a5106f8d2d739c68039d863bb5465d583">to</a>, a, 0);</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;                <a class="code" href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a> (&amp;a);</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;              }</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;          }</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;          <a class="code" href="protos_8h.html#a24a22e81b6f52fb89c7d1a97ebc94e18">ci_send_message</a> (0, msg, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="code" href="globals_8h.html#a530b95ec9537a03925b0ac1abfb4a6c9">Context</a>, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;          menu-&gt;<a class="code" href="structMUTTMENU.html#a39f301acf1e8bfa0eef2d5a5e3c85c1b">redraw</a> = <a class="code" href="mutt__menu_8h.html#a716ec76c9c77fe08876a80a7859bde2c">REDRAW_FULL</a>;</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;        <span class="keywordflow">case</span> OP_EXIT:</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;          done = 1;</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      }</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">/* if we need to return the selected entries */</span></div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="keywordflow">if</span> (retbuf &amp;&amp; (done == 2))</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    {</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;      <span class="keywordtype">int</span> tagged = 0;</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;      <span class="keywordtype">size_t</span> curpos = 0;</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;      <a class="code" href="protos_8h.html#adb03df3679ce1445e801310614624ccb">memset</a> (buf, 0, buflen); </div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;      <span class="comment">/* check for tagged entries */</span></div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;      <span class="keywordflow">for</span> (i = 0; i &lt; menu-&gt;<a class="code" href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">max</a>; i++)</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;      {</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        <span class="keywordflow">if</span> (QueryTable[i].tagged)</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;        {</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;          <span class="keywordflow">if</span> (curpos == 0)</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;          {</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <a class="code" href="structADDRESS.html">ADDRESS</a> *tmpa = <a class="code" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a> (QueryTable[i].data);</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="mutt__idna_8c.html#a5c4717533f3e89f64a7486456b721e4b">mutt_addrlist_to_local</a> (tmpa);</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;            tagged = 1;</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;            <a class="code" href="rfc822_8c.html#adbe158d395e930b2fcdbe9d3c716f6e9">rfc822_write_address</a> (buf, buflen, tmpa, 0);</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;            curpos = <a class="code" href="lib_8c.html#a00be9c99a4660441645a663008f85cbe">mutt_strlen</a> (buf);</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;            <a class="code" href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a> (&amp;tmpa);</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;          }</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;          <span class="keywordflow">else</span> <span class="keywordflow">if</span> (curpos + 2 &lt; buflen)</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;          {</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;            <a class="code" href="structADDRESS.html">ADDRESS</a> *tmpa = <a class="code" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a> (QueryTable[i].data);</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;            <a class="code" href="mutt__idna_8c.html#a5c4717533f3e89f64a7486456b721e4b">mutt_addrlist_to_local</a> (tmpa);</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;            strcat (buf, <span class="stringliteral">&quot;, &quot;</span>); <span class="comment">/* __STRCAT_CHECKED__ */</span></div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;            <a class="code" href="rfc822_8c.html#adbe158d395e930b2fcdbe9d3c716f6e9">rfc822_write_address</a> ((<span class="keywordtype">char</span> *) buf + curpos + 1, buflen - curpos - 1,</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;                                  tmpa, 0);</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;            curpos = <a class="code" href="lib_8c.html#a00be9c99a4660441645a663008f85cbe">mutt_strlen</a> (buf);</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <a class="code" href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a> (&amp;tmpa);</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;          }</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        }</div><div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;      }</div><div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;      <span class="comment">/* then enter current message */</span></div><div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;      <span class="keywordflow">if</span> (!tagged)</div><div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;      {</div><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="structADDRESS.html">ADDRESS</a> *tmpa = <a class="code" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a> (QueryTable[menu-&gt;<a class="code" href="structMUTTMENU.html#a43778138cb1721958befcce505b9ca31">current</a>].<a class="code" href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">data</a>);</div><div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <a class="code" href="mutt__idna_8c.html#a5c4717533f3e89f64a7486456b721e4b">mutt_addrlist_to_local</a> (tmpa);</div><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <a class="code" href="rfc822_8c.html#adbe158d395e930b2fcdbe9d3c716f6e9">rfc822_write_address</a> (buf, buflen, tmpa, 0);</div><div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <a class="code" href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a> (&amp;tmpa);</div><div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;      }</div><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;      </div><div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div><div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <a class="code" href="query_8c.html#aa4138e640f77ec479114e7322d8695d8">free_query</a> (&amp;results);</div><div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <a class="code" href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a> (&amp;QueryTable);</div><div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    </div><div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="comment">/* tell whoever called me to redraw the screen when I return */</span></div><div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    <a class="code" href="mutt_8h.html#a18e1ff25c0f1af9298533aff55fb8946">set_option</a> (<a class="code" href="mutt_8h.html#a94798fdadfbf49a7c658ace669a1d310a942be4af6d1a2e479f74f168d3bbde26">OPTNEEDREDRAW</a>);</div><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;  }</div><div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;</div><div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;  <a class="code" href="menu_8c.html#a1950e3d8a7420f9b9e385def712ebdc4">mutt_menuDestroy</a> (&amp;menu);</div><div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div><div class="ttc" id="mutt__menu_8h_html_a716ec76c9c77fe08876a80a7859bde2c"><div class="ttname"><a href="mutt__menu_8h.html#a716ec76c9c77fe08876a80a7859bde2c">REDRAW_FULL</a></div><div class="ttdeci">#define REDRAW_FULL</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00035">mutt_menu.h:35</a></div></div>
<div class="ttc" id="query_8c_html_a5d246e5d5e99f20abc3a074faa93b5c5"><div class="ttname"><a href="query_8c.html#a5d246e5d5e99f20abc3a074faa93b5c5">query_tag</a></div><div class="ttdeci">static int query_tag(MUTTMENU *menu, int n, int m)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00249">query.c:249</a></div></div>
<div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a6f2a56bd7a7a3a96667373f6efa740f2"><div class="ttname"><a href="structMUTTMENU.html#a6f2a56bd7a7a3a96667373f6efa740f2">MUTTMENU::tag</a></div><div class="ttdeci">int(* tag)(struct menu_t *, int i, int m)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00077">mutt_menu.h:77</a></div></div>
<div class="ttc" id="query_8c_html_aa97bd0bd3b2224cf8c68e804665129ca"><div class="ttname"><a href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a></div><div class="ttdeci">static ADDRESS * result_to_addr(QUERY *r)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00059">query.c:59</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a72a7668fa2d15b507ef6a6e6f60b9b8e"><div class="ttname"><a href="structMUTTMENU.html#a72a7668fa2d15b507ef6a6e6f60b9b8e">MUTTMENU::tagprefix</a></div><div class="ttdeci">int tagprefix</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00055">mutt_menu.h:55</a></div></div>
<div class="ttc" id="query_8c_html_a4515de763378bb3127f0a9ea5730479d"><div class="ttname"><a href="query_8c.html#a4515de763378bb3127f0a9ea5730479d">QueryHelp</a></div><div class="ttdeci">static const struct mapping_t QueryHelp[]</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00047">query.c:47</a></div></div>
<div class="ttc" id="lib_8c_html_a00be9c99a4660441645a663008f85cbe"><div class="ttname"><a href="lib_8c.html#a00be9c99a4660441645a663008f85cbe">mutt_strlen</a></div><div class="ttdeci">size_t mutt_strlen(const char *a)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00912">lib.c:912</a></div></div>
<div class="ttc" id="protos_8h_html_a24a22e81b6f52fb89c7d1a97ebc94e18"><div class="ttname"><a href="protos_8h.html#a24a22e81b6f52fb89c7d1a97ebc94e18">ci_send_message</a></div><div class="ttdeci">int ci_send_message(int, HEADER *, char *, CONTEXT *, HEADER *)</div><div class="ttdef"><b>Definition:</b> <a href="send_8c_source.html#l01279">send.c:1279</a></div></div>
<div class="ttc" id="protos_8h_html_ac0665efcb55965ec87b1626c794ffcfa"><div class="ttname"><a href="protos_8h.html#ac0665efcb55965ec87b1626c794ffcfa">mutt_new_header</a></div><div class="ttdeci">#define mutt_new_header()</div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00076">protos.h:76</a></div></div>
<div class="ttc" id="structMUTTMENU_html_ac5d27c04c60fa453488265caab0e43c5"><div class="ttname"><a href="structMUTTMENU.html#ac5d27c04c60fa453488265caab0e43c5">MUTTMENU::help</a></div><div class="ttdeci">char * help</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00047">mutt_menu.h:47</a></div></div>
<div class="ttc" id="lib_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00077">lib.h:77</a></div></div>
<div class="ttc" id="mutt_8h_html_a94798fdadfbf49a7c658ace669a1d310a942be4af6d1a2e479f74f168d3bbde26"><div class="ttname"><a href="mutt_8h.html#a94798fdadfbf49a7c658ace669a1d310a942be4af6d1a2e479f74f168d3bbde26">OPTNEEDREDRAW</a></div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00585">mutt.h:585</a></div></div>
<div class="ttc" id="structHEADER_html"><div class="ttname"><a href="structHEADER.html">HEADER</a></div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00820">mutt.h:820</a></div></div>
<div class="ttc" id="menu_8c_html_ac4a1fcff5eeb3f969897550a20003801"><div class="ttname"><a href="menu_8c.html#ac4a1fcff5eeb3f969897550a20003801">mutt_menuLoop</a></div><div class="ttdeci">int mutt_menuLoop(MUTTMENU *menu)</div><div class="ttdef"><b>Definition:</b> <a href="menu_8c_source.html#l00936">menu.c:936</a></div></div>
<div class="ttc" id="structQUERY_html_aa0ae99e0ff8ad563653656e3e669ee20"><div class="ttname"><a href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">QUERY::next</a></div><div class="ttdeci">struct query * next</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00038">query.c:38</a></div></div>
<div class="ttc" id="rfc822_8c_html_adbe158d395e930b2fcdbe9d3c716f6e9"><div class="ttname"><a href="rfc822_8c.html#adbe158d395e930b2fcdbe9d3c716f6e9">rfc822_write_address</a></div><div class="ttdeci">int rfc822_write_address(char *buf, size_t buflen, ADDRESS *addr, int display)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00738">rfc822.c:738</a></div></div>
<div class="ttc" id="rfc822_8c_html_afc80dbb33e994a3c23df94982c66a7f7"><div class="ttname"><a href="rfc822_8c.html#afc80dbb33e994a3c23df94982c66a7f7">rfc822_append</a></div><div class="ttdeci">ADDRESS * rfc822_append(ADDRESS **a, ADDRESS *b, int prune)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00832">rfc822.c:832</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a0ad4a89b2c25f336d0376ec85c900046"><div class="ttname"><a href="structMUTTMENU.html#a0ad4a89b2c25f336d0376ec85c900046">MUTTMENU::search</a></div><div class="ttdeci">int(* search)(struct menu_t *, regex_t *re, int n)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00075">mutt_menu.h:75</a></div></div>
<div class="ttc" id="rfc822_8c_html_a33931a3025bf03d90d6c4cda3ea0ea42"><div class="ttname"><a href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a></div><div class="ttdeci">void rfc822_free_address(ADDRESS **p)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00122">rfc822.c:122</a></div></div>
<div class="ttc" id="structENTRY_html_a349293aba35335aaecec00b8b79750ff"><div class="ttname"><a href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">ENTRY::data</a></div><div class="ttdeci">QUERY * data</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00044">query.c:44</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a3e3fe4f6bee20504507d0ec77e91b21c"><div class="ttname"><a href="structMUTTMENU.html#a3e3fe4f6bee20504507d0ec77e91b21c">MUTTMENU::title</a></div><div class="ttdeci">char * title</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00046">mutt_menu.h:46</a></div></div>
<div class="ttc" id="query_8c_html_a136326500c877ec56cfaf37b49b85572"><div class="ttname"><a href="query_8c.html#a136326500c877ec56cfaf37b49b85572">query_entry</a></div><div class="ttdeci">static void query_entry(char *s, size_t slen, MUTTMENU *m, int num)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00240">query.c:240</a></div></div>
<div class="ttc" id="menu_8c_html_a21d918fa834c1f74c117df10e5d9df93"><div class="ttname"><a href="menu_8c.html#a21d918fa834c1f74c117df10e5d9df93">mutt_new_menu</a></div><div class="ttdeci">MUTTMENU * mutt_new_menu(int menu)</div><div class="ttdef"><b>Definition:</b> <a href="menu_8c_source.html#l00758">menu.c:758</a></div></div>
<div class="ttc" id="structENVELOPE_html_a5106f8d2d739c68039d863bb5465d583"><div class="ttname"><a href="structENVELOPE.html#a5106f8d2d739c68039d863bb5465d583">ENVELOPE::to</a></div><div class="ttdeci">ADDRESS * to</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00686">mutt.h:686</a></div></div>
<div class="ttc" id="protos_8h_html_ad32e7c5b93058eee3c10159549d69a91"><div class="ttname"><a href="protos_8h.html#ad32e7c5b93058eee3c10159549d69a91">mutt_new_envelope</a></div><div class="ttdeci">#define mutt_new_envelope()</div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00077">protos.h:77</a></div></div>
<div class="ttc" id="dcigettext_8c_html_a2a80cd63d279b93c467263ec08a78bfa"><div class="ttname"><a href="dcigettext_8c.html#a2a80cd63d279b93c467263ec08a78bfa">if</a></div><div class="ttdeci">if(msgid1==NULL)</div><div class="ttdef"><b>Definition:</b> <a href="dcigettext_8c_source.html#l00430">dcigettext.c:430</a></div></div>
<div class="ttc" id="keymap_8h_html_aba01db17f4a2bfbc3db60dc172972a25a739c790e5df497ca3d7e7f2e3837aaf1"><div class="ttname"><a href="keymap_8h.html#aba01db17f4a2bfbc3db60dc172972a25a739c790e5df497ca3d7e7f2e3837aaf1">MENU_QUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="keymap_8h_source.html#l00065">keymap.h:65</a></div></div>
<div class="ttc" id="protos_8h_html_a6e703c475e57d903e73e3b03ccec20b9"><div class="ttname"><a href="protos_8h.html#a6e703c475e57d903e73e3b03ccec20b9">mutt_get_field</a></div><div class="ttdeci">#define mutt_get_field(A, B, C, D)</div><div class="ttdef"><b>Definition:</b> <a href="protos_8h_source.html#l00337">protos.h:337</a></div></div>
<div class="ttc" id="structMUTTMENU_html_ad0b5347990ea16f9f770e593d96c14e5"><div class="ttname"><a href="structMUTTMENU.html#ad0b5347990ea16f9f770e593d96c14e5">MUTTMENU::make_entry</a></div><div class="ttdeci">void(* make_entry)(char *, size_t, struct menu_t *, int)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00072">mutt_menu.h:72</a></div></div>
<div class="ttc" id="structENTRY_html"><div class="ttname"><a href="structENTRY.html">ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00041">query.c:41</a></div></div>
<div class="ttc" id="alias_8c_html_a86ad0ef34320b35a8c73f9e0977cec63"><div class="ttname"><a href="alias_8c.html#a86ad0ef34320b35a8c73f9e0977cec63">mutt_create_alias</a></div><div class="ttdeci">void mutt_create_alias(ENVELOPE *cur, ADDRESS *iadr)</div><div class="ttdef"><b>Definition:</b> <a href="alias_8c_source.html#l00229">alias.c:229</a></div></div>
<div class="ttc" id="lib_8c_html_a725ea15665b1be820aee11fddd857f8a"><div class="ttname"><a href="lib_8c.html#a725ea15665b1be820aee11fddd857f8a">safe_calloc</a></div><div class="ttdeci">void * safe_calloc(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00122">lib.c:122</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a39f301acf1e8bfa0eef2d5a5e3c85c1b"><div class="ttname"><a href="structMUTTMENU.html#a39f301acf1e8bfa0eef2d5a5e3c85c1b">MUTTMENU::redraw</a></div><div class="ttdeci">int redraw</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00051">mutt_menu.h:51</a></div></div>
<div class="ttc" id="help_8c_html_a49a09dba757c84cbf5b4370b5bcd04d0"><div class="ttname"><a href="help_8c.html#a49a09dba757c84cbf5b4370b5bcd04d0">mutt_compile_help</a></div><div class="ttdeci">char * mutt_compile_help(char *buf, size_t buflen, int menu, const struct mapping_t *items)</div><div class="ttdef"><b>Definition:</b> <a href="help_8c_source.html#l00069">help.c:69</a></div></div>
<div class="ttc" id="structMUTTMENU_html"><div class="ttname"><a href="structMUTTMENU.html">MUTTMENU</a></div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00044">mutt_menu.h:44</a></div></div>
<div class="ttc" id="lib_8c_html_aae229de722d5af03dddc42f0c319349c"><div class="ttname"><a href="lib_8c.html#aae229de722d5af03dddc42f0c319349c">safe_realloc</a></div><div class="ttdeci">void safe_realloc(void *ptr, size_t siz)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00160">lib.c:160</a></div></div>
<div class="ttc" id="lib_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00046">lib.h:46</a></div></div>
<div class="ttc" id="structADDRESS_html"><div class="ttname"><a href="structADDRESS.html">ADDRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8h_source.html#l00036">rfc822.h:36</a></div></div>
<div class="ttc" id="structHEADER_html_ae018c74ea2e19cfc03288a0e2d28bb24"><div class="ttname"><a href="structHEADER.html#ae018c74ea2e19cfc03288a0e2d28bb24">HEADER::env</a></div><div class="ttdeci">ENVELOPE * env</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00878">mutt.h:878</a></div></div>
<div class="ttc" id="dotlock_8c_html_a357a42eb6494ea592e9c3f96c55cebe2"><div class="ttname"><a href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a></div><div class="ttdeci">int snprintf(char *, size_t, const char *,...)</div></div>
<div class="ttc" id="menu_8c_html_a1950e3d8a7420f9b9e385def712ebdc4"><div class="ttname"><a href="menu_8c.html#a1950e3d8a7420f9b9e385def712ebdc4">mutt_menuDestroy</a></div><div class="ttdeci">void mutt_menuDestroy(MUTTMENU **p)</div><div class="ttdef"><b>Definition:</b> <a href="menu_8c_source.html#l00780">menu.c:780</a></div></div>
<div class="ttc" id="query_8c_html_abde8f82328d796556d6efb18207def61"><div class="ttname"><a href="query_8c.html#abde8f82328d796556d6efb18207def61">run_query</a></div><div class="ttdeci">static QUERY * run_query(char *s, int quiet)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00092">query.c:92</a></div></div>
<div class="ttc" id="dotlock_8c_html_a2ed4d73ac96556fca2623216ca4a4e4a"><div class="ttname"><a href="dotlock_8c.html#a2ed4d73ac96556fca2623216ca4a4e4a">LONG_STRING</a></div><div class="ttdeci">#define LONG_STRING</div><div class="ttdef"><b>Definition:</b> <a href="dotlock_8c_source.html#l00063">dotlock.c:63</a></div></div>
<div class="ttc" id="globals_8h_html_a530b95ec9537a03925b0ac1abfb4a6c9"><div class="ttname"><a href="globals_8h.html#a530b95ec9537a03925b0ac1abfb4a6c9">Context</a></div><div class="ttdeci">WHERE CONTEXT * Context</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00022">globals.h:22</a></div></div>
<div class="ttc" id="query_8c_html_aa4138e640f77ec479114e7322d8695d8"><div class="ttname"><a href="query_8c.html#aa4138e640f77ec479114e7322d8695d8">free_query</a></div><div class="ttdeci">static void free_query(QUERY **query)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00073">query.c:73</a></div></div>
<div class="ttc" id="structENTRY_html_a940fab9cd1c5446b33706dee1b4ff76c"><div class="ttname"><a href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">ENTRY::tagged</a></div><div class="ttdeci">int tagged</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00043">query.c:43</a></div></div>
<div class="ttc" id="gettextP_8h_html_a68428151ad44e31b19041cdeb8972a91"><div class="ttname"><a href="gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a></div><div class="ttdeci">static nls_uint32 nls_uint32 i</div><div class="ttdef"><b>Definition:</b> <a href="gettextP_8h_source.html#l00068">gettextP.h:68</a></div></div>
<div class="ttc" id="lib_8h_html_a0f4d394a3ab4e09bff60f714c66dc5ee"><div class="ttname"><a href="lib_8h.html#a0f4d394a3ab4e09bff60f714c66dc5ee">STRING</a></div><div class="ttdeci">#define STRING</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00062">lib.h:62</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a6f53166468e752baea98ad0232ea98fe"><div class="ttname"><a href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">MUTTMENU::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00048">mutt_menu.h:48</a></div></div>
<div class="ttc" id="mutt_8h_html_a18e1ff25c0f1af9298533aff55fb8946"><div class="ttname"><a href="mutt_8h.html#a18e1ff25c0f1af9298533aff55fb8946">set_option</a></div><div class="ttdeci">#define set_option(x)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00628">mutt.h:628</a></div></div>
<div class="ttc" id="query_8c_html_a3019ad1f32a6e8bafa2c1e740f822e9b"><div class="ttname"><a href="query_8c.html#a3019ad1f32a6e8bafa2c1e740f822e9b">query_search</a></div><div class="ttdeci">static int query_search(MUTTMENU *m, regex_t *re, int n)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00160">query.c:160</a></div></div>
<div class="ttc" id="mutt__idna_8c_html_a5c4717533f3e89f64a7486456b721e4b"><div class="ttname"><a href="mutt__idna_8c.html#a5c4717533f3e89f64a7486456b721e4b">mutt_addrlist_to_local</a></div><div class="ttdeci">int mutt_addrlist_to_local(ADDRESS *a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__idna_8c_source.html#l00260">mutt_idna.c:260</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a033d1e8f19485ef4d7911f14378bce03"><div class="ttname"><a href="structMUTTMENU.html#a033d1e8f19485ef4d7911f14378bce03">MUTTMENU::max</a></div><div class="ttdeci">int max</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00050">mutt_menu.h:50</a></div></div>
<div class="ttc" id="protos_8h_html_adb03df3679ce1445e801310614624ccb"><div class="ttname"><a href="protos_8h.html#adb03df3679ce1445e801310614624ccb">memset</a></div><div class="ttdeci">void * memset()</div></div>
<div class="ttc" id="structMUTTMENU_html_a43778138cb1721958befcce505b9ca31"><div class="ttname"><a href="structMUTTMENU.html#a43778138cb1721958befcce505b9ca31">MUTTMENU::current</a></div><div class="ttdeci">int current</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00049">mutt_menu.h:49</a></div></div>
<div class="ttc" id="structQUERY_html"><div class="ttname"><a href="structQUERY.html">QUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00032">query.c:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa97bd0bd3b2224cf8c68e804665129ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa97bd0bd3b2224cf8c68e804665129ca">&#9670;&nbsp;</a></span>result_to_addr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structADDRESS.html">ADDRESS</a>* result_to_addr </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structQUERY.html">QUERY</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00059">59</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;  <span class="keyword">static</span> <a class="code" href="structADDRESS.html">ADDRESS</a> *tmp;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;  </div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;  <span class="keywordflow">if</span> (!(tmp = <a class="code" href="rfc822_8c.html#a5c8ba00fca223086843065e8ec0cc2c2">rfc822_cpy_adr</a> (r-&gt;<a class="code" href="structQUERY.html#aee958a494b52addc6597d06519c5786f">addr</a>, 0)))</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  </div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span>(!tmp-&gt;<a class="code" href="structADDRESS.html#a3b16062c28e57119c480b6bd272dbb37">next</a> &amp;&amp; !tmp-&gt;<a class="code" href="structADDRESS.html#ac9da83650b2a5edb9999ff860f3b893d">personal</a>)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    tmp-&gt;<a class="code" href="structADDRESS.html#ac9da83650b2a5edb9999ff860f3b893d">personal</a> = <a class="code" href="lib_8c.html#a26d804f329dea2733da34a4953a22a9d">safe_strdup</a> (r-&gt;<a class="code" href="structQUERY.html#a40c6fa779033ee71cadec96ff49b4124">name</a>);</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  </div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <a class="code" href="mutt__idna_8c.html#aafc2d0fc59dfa217bb40b7a9044b61f9">mutt_addrlist_to_intl</a> (tmp, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  <span class="keywordflow">return</span> tmp;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div><div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="structQUERY_html_aee958a494b52addc6597d06519c5786f"><div class="ttname"><a href="structQUERY.html#aee958a494b52addc6597d06519c5786f">QUERY::addr</a></div><div class="ttdeci">ADDRESS * addr</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00035">query.c:35</a></div></div>
<div class="ttc" id="structADDRESS_html_a3b16062c28e57119c480b6bd272dbb37"><div class="ttname"><a href="structADDRESS.html#a3b16062c28e57119c480b6bd272dbb37">ADDRESS::next</a></div><div class="ttdeci">struct address_t * next</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8h_source.html#l00044">rfc822.h:44</a></div></div>
<div class="ttc" id="lib_8c_html_a26d804f329dea2733da34a4953a22a9d"><div class="ttname"><a href="lib_8c.html#a26d804f329dea2733da34a4953a22a9d">safe_strdup</a></div><div class="ttdeci">char * safe_strdup(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00234">lib.c:234</a></div></div>
<div class="ttc" id="mutt__idna_8c_html_aafc2d0fc59dfa217bb40b7a9044b61f9"><div class="ttname"><a href="mutt__idna_8c.html#aafc2d0fc59dfa217bb40b7a9044b61f9">mutt_addrlist_to_intl</a></div><div class="ttdeci">int mutt_addrlist_to_intl(ADDRESS *a, char **err)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__idna_8c_source.html#l00228">mutt_idna.c:228</a></div></div>
<div class="ttc" id="structQUERY_html_a40c6fa779033ee71cadec96ff49b4124"><div class="ttname"><a href="structQUERY.html#a40c6fa779033ee71cadec96ff49b4124">QUERY::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00036">query.c:36</a></div></div>
<div class="ttc" id="structADDRESS_html"><div class="ttname"><a href="structADDRESS.html">ADDRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8h_source.html#l00036">rfc822.h:36</a></div></div>
<div class="ttc" id="rfc822_8c_html_a5c8ba00fca223086843065e8ec0cc2c2"><div class="ttname"><a href="rfc822_8c.html#a5c8ba00fca223086843065e8ec0cc2c2">rfc822_cpy_adr</a></div><div class="ttdeci">ADDRESS * rfc822_cpy_adr(ADDRESS *addr, int prune)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00810">rfc822.c:810</a></div></div>
<div class="ttc" id="structADDRESS_html_ac9da83650b2a5edb9999ff860f3b893d"><div class="ttname"><a href="structADDRESS.html#ac9da83650b2a5edb9999ff860f3b893d">ADDRESS::personal</a></div><div class="ttdeci">char * personal</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8h_source.html#l00041">rfc822.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4138e640f77ec479114e7322d8695d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4138e640f77ec479114e7322d8695d8">&#9670;&nbsp;</a></span>free_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void free_query </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structQUERY.html">QUERY</a> **&#160;</td>
          <td class="paramname"><em>query</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00073">73</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  <a class="code" href="structQUERY.html">QUERY</a> *p;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">if</span> (!query)</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  <span class="keywordflow">while</span> (*query)</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  {</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    p = *query;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    *query = (*query)-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a> (&amp;p-&gt;<a class="code" href="structQUERY.html#aee958a494b52addc6597d06519c5786f">addr</a>);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <a class="code" href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a> (&amp;p-&gt;<a class="code" href="structQUERY.html#a40c6fa779033ee71cadec96ff49b4124">name</a>);</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a> (&amp;p-&gt;<a class="code" href="structQUERY.html#a6c26abb232d76e7612ae2952c83acd5e">other</a>);</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a> (&amp;p);</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  }</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div><div class="ttc" id="structQUERY_html_aee958a494b52addc6597d06519c5786f"><div class="ttname"><a href="structQUERY.html#aee958a494b52addc6597d06519c5786f">QUERY::addr</a></div><div class="ttdeci">ADDRESS * addr</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00035">query.c:35</a></div></div>
<div class="ttc" id="lib_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00077">lib.h:77</a></div></div>
<div class="ttc" id="structQUERY_html_aa0ae99e0ff8ad563653656e3e669ee20"><div class="ttname"><a href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">QUERY::next</a></div><div class="ttdeci">struct query * next</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00038">query.c:38</a></div></div>
<div class="ttc" id="rfc822_8c_html_a33931a3025bf03d90d6c4cda3ea0ea42"><div class="ttname"><a href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a></div><div class="ttdeci">void rfc822_free_address(ADDRESS **p)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00122">rfc822.c:122</a></div></div>
<div class="ttc" id="structQUERY_html_a6c26abb232d76e7612ae2952c83acd5e"><div class="ttname"><a href="structQUERY.html#a6c26abb232d76e7612ae2952c83acd5e">QUERY::other</a></div><div class="ttdeci">char * other</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00037">query.c:37</a></div></div>
<div class="ttc" id="structQUERY_html_a40c6fa779033ee71cadec96ff49b4124"><div class="ttname"><a href="structQUERY.html#a40c6fa779033ee71cadec96ff49b4124">QUERY::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00036">query.c:36</a></div></div>
<div class="ttc" id="structQUERY_html"><div class="ttname"><a href="structQUERY.html">QUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00032">query.c:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abde8f82328d796556d6efb18207def61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abde8f82328d796556d6efb18207def61">&#9670;&nbsp;</a></span>run_query()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structQUERY.html">QUERY</a>* run_query </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>quiet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00092">92</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  FILE *fp;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <a class="code" href="structQUERY.html">QUERY</a> *first = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="structQUERY.html">QUERY</a> *cur = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordtype">char</span> cmd[<a class="code" href="dcigettext_8c.html#a45614b6d4dc532a7211d75e0aa18c964">_POSIX_PATH_MAX</a>];</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  <span class="keywordtype">char</span> *buf = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordtype">size_t</span> buflen;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  <span class="keywordtype">int</span> dummy = 0;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordtype">char</span> msg[<a class="code" href="lib_8h.html#a0f4d394a3ab4e09bff60f714c66dc5ee">STRING</a>];</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  <span class="keywordtype">char</span> *p;</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  pid_t thepid;</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  <a class="code" href="muttlib_8c.html#aef9c496a7c7d8bed6889625cbbbb26a1">mutt_expand_file_fmt</a> (cmd, <span class="keyword">sizeof</span>(cmd), <a class="code" href="globals_8h.html#a812b85c50482428487aa6eda4836f722">QueryCmd</a>, s);</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  <span class="keywordflow">if</span> ((thepid = <a class="code" href="filter_8c.html#a9175e055396a99789d648cd43000f126">mutt_create_filter</a> (cmd, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, &amp;fp, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) &lt; 0)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;  {</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="lib_8h.html#a5c75177122494450ca7234a1f4048711">dprint</a> (1, (debugfile, <span class="stringliteral">&quot;unable to fork command: %s&quot;</span>, cmd));</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  }</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordflow">if</span> (!quiet)</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <a class="code" href="globals_8h.html#a6021755edce63ab9d4e49f97213e83ab">mutt_message</a> <a class="code" href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Waiting for response...&quot;</span>);</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  fgets (msg, <span class="keyword">sizeof</span> (msg), fp);</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  <span class="keywordflow">if</span> ((p = strrchr (msg, <span class="charliteral">&#39;\n&#39;</span>)))</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    *p = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;  <span class="keywordflow">while</span> ((buf = <a class="code" href="lib_8c.html#afbe123574ce99100df4004ebfbc5dae0">mutt_read_line</a> (buf, &amp;buflen, fp, &amp;dummy, 0)) != <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;  {</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> ((p = strtok(buf, <span class="stringliteral">&quot;\t\n&quot;</span>)))</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      <span class="keywordflow">if</span> (first == <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;      {</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        first = (<a class="code" href="structQUERY.html">QUERY</a> *) <a class="code" href="lib_8c.html#a725ea15665b1be820aee11fddd857f8a">safe_calloc</a> (1, <span class="keyword">sizeof</span> (<a class="code" href="structQUERY.html">QUERY</a>));</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        cur = first;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;      }</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;      <span class="keywordflow">else</span></div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;      {</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        cur-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a> = (<a class="code" href="structQUERY.html">QUERY</a> *) <a class="code" href="lib_8c.html#a725ea15665b1be820aee11fddd857f8a">safe_calloc</a> (1, <span class="keyword">sizeof</span> (<a class="code" href="structQUERY.html">QUERY</a>));</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        cur = cur-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a>;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;      }</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;      cur-&gt;<a class="code" href="structQUERY.html#aee958a494b52addc6597d06519c5786f">addr</a> = <a class="code" href="rfc822_8c.html#acd2f60bbe99c7859e54506e5aa021da6">rfc822_parse_adrlist</a> (cur-&gt;<a class="code" href="structQUERY.html#aee958a494b52addc6597d06519c5786f">addr</a>, p);</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;      p = strtok(<a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;\t\n&quot;</span>);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;      <span class="keywordflow">if</span> (p)</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;      {</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        cur-&gt;<a class="code" href="structQUERY.html#a40c6fa779033ee71cadec96ff49b4124">name</a> = <a class="code" href="lib_8c.html#a26d804f329dea2733da34a4953a22a9d">safe_strdup</a> (p);</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        p = strtok(<a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="stringliteral">&quot;\t\n&quot;</span>);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">if</span> (p)</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;          cur-&gt;<a class="code" href="structQUERY.html#a6c26abb232d76e7612ae2952c83acd5e">other</a> = <a class="code" href="lib_8c.html#a26d804f329dea2733da34a4953a22a9d">safe_strdup</a> (p);</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      }</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;  }</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;  <a class="code" href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a> (&amp;buf);</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;  <a class="code" href="lib_8c.html#af03da38defdb7d2ba4e9e517c3c54836">safe_fclose</a> (&amp;fp);</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="filter_8c.html#a2d652b11c7d2ea31208315aaf61537d2">mutt_wait_filter</a> (thepid))</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  {</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <a class="code" href="lib_8h.html#a5c75177122494450ca7234a1f4048711">dprint</a> (1, (debugfile, <span class="stringliteral">&quot;Error: %s\n&quot;</span>, msg));</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keywordflow">if</span> (!quiet)  <a class="code" href="extlib_8c.html#a90829ddbd5f0edf736c9f6e595cfc0be">mutt_error</a> (<span class="stringliteral">&quot;%s&quot;</span>, msg);</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;  }</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  {</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    <span class="keywordflow">if</span> (!quiet)</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;      <a class="code" href="globals_8h.html#a6021755edce63ab9d4e49f97213e83ab">mutt_message</a> (<span class="stringliteral">&quot;%s&quot;</span>, msg);</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  }</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;  </div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;  <span class="keywordflow">return</span> first;</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div><div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="structQUERY_html_aee958a494b52addc6597d06519c5786f"><div class="ttname"><a href="structQUERY.html#aee958a494b52addc6597d06519c5786f">QUERY::addr</a></div><div class="ttdeci">ADDRESS * addr</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00035">query.c:35</a></div></div>
<div class="ttc" id="lib_8h_html_a5c75177122494450ca7234a1f4048711"><div class="ttname"><a href="lib_8h.html#a5c75177122494450ca7234a1f4048711">dprint</a></div><div class="ttdeci">#define dprint(N, X)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00152">lib.h:152</a></div></div>
<div class="ttc" id="rfc822_8c_html_acd2f60bbe99c7859e54506e5aa021da6"><div class="ttname"><a href="rfc822_8c.html#acd2f60bbe99c7859e54506e5aa021da6">rfc822_parse_adrlist</a></div><div class="ttdeci">ADDRESS * rfc822_parse_adrlist(ADDRESS *top, const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00373">rfc822.c:373</a></div></div>
<div class="ttc" id="lib_8h_html_a25875003b43b81a4302256caa4a13599"><div class="ttname"><a href="lib_8h.html#a25875003b43b81a4302256caa4a13599">FREE</a></div><div class="ttdeci">#define FREE(x)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00077">lib.h:77</a></div></div>
<div class="ttc" id="structQUERY_html_aa0ae99e0ff8ad563653656e3e669ee20"><div class="ttname"><a href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">QUERY::next</a></div><div class="ttdeci">struct query * next</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00038">query.c:38</a></div></div>
<div class="ttc" id="structQUERY_html_a6c26abb232d76e7612ae2952c83acd5e"><div class="ttname"><a href="structQUERY.html#a6c26abb232d76e7612ae2952c83acd5e">QUERY::other</a></div><div class="ttdeci">char * other</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00037">query.c:37</a></div></div>
<div class="ttc" id="dcigettext_8c_html_a45614b6d4dc532a7211d75e0aa18c964"><div class="ttname"><a href="dcigettext_8c.html#a45614b6d4dc532a7211d75e0aa18c964">_POSIX_PATH_MAX</a></div><div class="ttdeci">#define _POSIX_PATH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="dcigettext_8c_source.html#l00159">dcigettext.c:159</a></div></div>
<div class="ttc" id="extlib_8c_html_a90829ddbd5f0edf736c9f6e595cfc0be"><div class="ttname"><a href="extlib_8c.html#a90829ddbd5f0edf736c9f6e595cfc0be">mutt_error</a></div><div class="ttdeci">void(* mutt_error)(const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="extlib_8c_source.html#l00037">extlib.c:37</a></div></div>
<div class="ttc" id="lib_8c_html_a26d804f329dea2733da34a4953a22a9d"><div class="ttname"><a href="lib_8c.html#a26d804f329dea2733da34a4953a22a9d">safe_strdup</a></div><div class="ttdeci">char * safe_strdup(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00234">lib.c:234</a></div></div>
<div class="ttc" id="muttlib_8c_html_aef9c496a7c7d8bed6889625cbbbb26a1"><div class="ttname"><a href="muttlib_8c.html#aef9c496a7c7d8bed6889625cbbbb26a1">mutt_expand_file_fmt</a></div><div class="ttdeci">void mutt_expand_file_fmt(char *dest, size_t destlen, const char *fmt, const char *src)</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l01028">muttlib.c:1028</a></div></div>
<div class="ttc" id="lib_8c_html_af03da38defdb7d2ba4e9e517c3c54836"><div class="ttname"><a href="lib_8c.html#af03da38defdb7d2ba4e9e517c3c54836">safe_fclose</a></div><div class="ttdeci">int safe_fclose(FILE **f)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00203">lib.c:203</a></div></div>
<div class="ttc" id="lib_8c_html_a725ea15665b1be820aee11fddd857f8a"><div class="ttname"><a href="lib_8c.html#a725ea15665b1be820aee11fddd857f8a">safe_calloc</a></div><div class="ttdeci">void * safe_calloc(size_t nmemb, size_t size)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00122">lib.c:122</a></div></div>
<div class="ttc" id="structQUERY_html_a40c6fa779033ee71cadec96ff49b4124"><div class="ttname"><a href="structQUERY.html#a40c6fa779033ee71cadec96ff49b4124">QUERY::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00036">query.c:36</a></div></div>
<div class="ttc" id="lib_8c_html_afbe123574ce99100df4004ebfbc5dae0"><div class="ttname"><a href="lib_8c.html#afbe123574ce99100df4004ebfbc5dae0">mutt_read_line</a></div><div class="ttdeci">char * mutt_read_line(char *s, size_t *size, FILE *fp, int *line, int flags)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00765">lib.c:765</a></div></div>
<div class="ttc" id="globals_8h_html_a6021755edce63ab9d4e49f97213e83ab"><div class="ttname"><a href="globals_8h.html#a6021755edce63ab9d4e49f97213e83ab">mutt_message</a></div><div class="ttdeci">WHERE void(* mutt_message)(const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00020">globals.h:20</a></div></div>
<div class="ttc" id="lib_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00046">lib.h:46</a></div></div>
<div class="ttc" id="filter_8c_html_a9175e055396a99789d648cd43000f126"><div class="ttname"><a href="filter_8c.html#a9175e055396a99789d648cd43000f126">mutt_create_filter</a></div><div class="ttdeci">pid_t mutt_create_filter(const char *s, FILE **in, FILE **out, FILE **err)</div><div class="ttdef"><b>Definition:</b> <a href="filter_8c_source.html#l00177">filter.c:177</a></div></div>
<div class="ttc" id="filter_8c_html_a2d652b11c7d2ea31208315aaf61537d2"><div class="ttname"><a href="filter_8c.html#a2d652b11c7d2ea31208315aaf61537d2">mutt_wait_filter</a></div><div class="ttdeci">int mutt_wait_filter(pid_t pid)</div><div class="ttdef"><b>Definition:</b> <a href="filter_8c_source.html#l00182">filter.c:182</a></div></div>
<div class="ttc" id="lib_8h_html_a0f4d394a3ab4e09bff60f714c66dc5ee"><div class="ttname"><a href="lib_8h.html#a0f4d394a3ab4e09bff60f714c66dc5ee">STRING</a></div><div class="ttdeci">#define STRING</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00062">lib.h:62</a></div></div>
<div class="ttc" id="structQUERY_html"><div class="ttname"><a href="structQUERY.html">QUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00032">query.c:32</a></div></div>
<div class="ttc" id="globals_8h_html_a812b85c50482428487aa6eda4836f722"><div class="ttname"><a href="globals_8h.html#a812b85c50482428487aa6eda4836f722">QueryCmd</a></div><div class="ttdeci">WHERE char * QueryCmd</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00130">globals.h:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3019ad1f32a6e8bafa2c1e740f822e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3019ad1f32a6e8bafa2c1e740f822e9b">&#9670;&nbsp;</a></span>query_search()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int query_search </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMUTTMENU.html">MUTTMENU</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">regex_t *&#160;</td>
          <td class="paramname"><em>re</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00160">160</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;  <a class="code" href="structENTRY.html">ENTRY</a> *table = (<a class="code" href="structENTRY.html">ENTRY</a> *) m-&gt;<a class="code" href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">data</a>;</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;  <a class="code" href="dcigettext_8c.html#a2a80cd63d279b93c467263ec08a78bfa">if</a> (table[<a class="code" href="dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>].data-&gt;name &amp;&amp; !<a class="code" href="regex_8c.html#a0298f60fae70832d70e8ec5d032472a8">regexec</a> (re, table[<a class="code" href="dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>].data-&gt;name, 0, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;  <span class="keywordflow">if</span> (table[n].data-&gt;other &amp;&amp; !<a class="code" href="regex_8c.html#a0298f60fae70832d70e8ec5d032472a8">regexec</a> (re, table[n].data-&gt;other, 0, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;  <span class="keywordflow">if</span> (table[n].data-&gt;addr)</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;  {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">if</span> (table[n].data-&gt;addr-&gt;personal &amp;&amp; </div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        !<a class="code" href="regex_8c.html#a0298f60fae70832d70e8ec5d032472a8">regexec</a> (re, table[n].data-&gt;addr-&gt;personal, 0, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <span class="keywordflow">if</span> (table[n].data-&gt;addr-&gt;mailbox &amp;&amp;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        !<a class="code" href="regex_8c.html#a0298f60fae70832d70e8ec5d032472a8">regexec</a> (re, table[n].data-&gt;addr-&gt;mailbox, 0, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor">#ifdef EXACT_ADDRESS</span></div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">if</span> (table[n].data-&gt;addr-&gt;val &amp;&amp;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        !<a class="code" href="regex_8c.html#a0298f60fae70832d70e8ec5d032472a8">regexec</a> (re, table[n].data-&gt;addr-&gt;val, 0, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0))</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;      <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;  }</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  </div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="__regex_8h.html#a1a37133027e6fa3a5f31044f9a76c5aea4cc3b232a9ce92df5523d8c464c7beb2">REG_NOMATCH</a>;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;}</div><div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="dcigettext_8c_html_a58257445f1a929304e537613b62ebb35"><div class="ttname"><a href="dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a></div><div class="ttdeci">unsigned long int n</div><div class="ttdef"><b>Definition:</b> <a href="dcigettext_8c_source.html#l00407">dcigettext.c:407</a></div></div>
<div class="ttc" id="regex_8c_html_a0298f60fae70832d70e8ec5d032472a8"><div class="ttname"><a href="regex_8c.html#a0298f60fae70832d70e8ec5d032472a8">regexec</a></div><div class="ttdeci">int regexec(regex_t *preg, const char *string, size_t nmatch, pmatch, int eflags) const</div><div class="ttdef"><b>Definition:</b> <a href="regex_8c_source.html#l05644">regex.c:5644</a></div></div>
<div class="ttc" id="dcigettext_8c_html_a2a80cd63d279b93c467263ec08a78bfa"><div class="ttname"><a href="dcigettext_8c.html#a2a80cd63d279b93c467263ec08a78bfa">if</a></div><div class="ttdeci">if(msgid1==NULL)</div><div class="ttdef"><b>Definition:</b> <a href="dcigettext_8c_source.html#l00430">dcigettext.c:430</a></div></div>
<div class="ttc" id="structENTRY_html"><div class="ttname"><a href="structENTRY.html">ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00041">query.c:41</a></div></div>
<div class="ttc" id="__regex_8h_html_a1a37133027e6fa3a5f31044f9a76c5aea4cc3b232a9ce92df5523d8c464c7beb2"><div class="ttname"><a href="__regex_8h.html#a1a37133027e6fa3a5f31044f9a76c5aea4cc3b232a9ce92df5523d8c464c7beb2">REG_NOMATCH</a></div><div class="ttdef"><b>Definition:</b> <a href="__regex_8h_source.html#l00286">_regex.h:286</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a6f53166468e752baea98ad0232ea98fe"><div class="ttname"><a href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">MUTTMENU::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00048">mutt_menu.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aed87327a73580721c36cf3a72b6e0763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed87327a73580721c36cf3a72b6e0763">&#9670;&nbsp;</a></span>query_format_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char* query_format_str </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>destlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>col</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>fmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>ifstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>elsestring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mutt_8h.html#a9498724ab6e4b2d35b96c492374513ae">format_flag</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00186">186</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;{</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="structENTRY.html">ENTRY</a> *entry = (<a class="code" href="structENTRY.html">ENTRY</a> *)data;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="structQUERY.html">QUERY</a> *query = entry-&gt;<a class="code" href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">data</a>;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordtype">char</span> tmp[<a class="code" href="lib_8h.html#a1f35aabd376e7d34b1900d9caae1715f">SHORT_STRING</a>];</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  <span class="keywordtype">char</span> buf2[<a class="code" href="lib_8h.html#a0f4d394a3ab4e09bff60f714c66dc5ee">STRING</a>] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordtype">int</span> optional = (flags &amp; <a class="code" href="mutt_8h.html#a9498724ab6e4b2d35b96c492374513aeaf2d8536087d5168ce24d2aa7e71823cb">MUTT_FORMAT_OPTIONAL</a>);</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;  <span class="keywordflow">switch</span> (op)</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  {</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>:</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="rfc822_8c.html#adbe158d395e930b2fcdbe9d3c716f6e9">rfc822_write_address</a> (buf2, <span class="keyword">sizeof</span> (buf2), query-&gt;<a class="code" href="structQUERY.html#aee958a494b52addc6597d06519c5786f">addr</a>, 1);</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (tmp, <span class="keyword">sizeof</span> (tmp), <span class="stringliteral">&quot;%%%ss&quot;</span>, fmt);</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (dest, destlen, tmp, buf2);</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (tmp, <span class="keyword">sizeof</span> (tmp), <span class="stringliteral">&quot;%%%sd&quot;</span>, fmt);</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (dest, destlen, tmp, query-&gt;<a class="code" href="structQUERY.html#ad7011d24d11305b880da69a36f4aad15">num</a> + 1);</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>:</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> (!optional)</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;      <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (tmp, <span class="keyword">sizeof</span> (tmp), <span class="stringliteral">&quot;%%%ss&quot;</span>, fmt);</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;      <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (dest, destlen, tmp, <a class="code" href="lib_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a> (query-&gt;<a class="code" href="structQUERY.html#a6c26abb232d76e7612ae2952c83acd5e">other</a>));</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    }</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!query-&gt;<a class="code" href="structQUERY.html#a6c26abb232d76e7612ae2952c83acd5e">other</a> || !*query-&gt;<a class="code" href="structQUERY.html#a6c26abb232d76e7612ae2952c83acd5e">other</a>)</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      optional = 0;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>:</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (tmp, <span class="keyword">sizeof</span> (tmp), <span class="stringliteral">&quot;%%%ss&quot;</span>, fmt);</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (dest, destlen, tmp, <a class="code" href="lib_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a> (query-&gt;<a class="code" href="structQUERY.html#a40c6fa779033ee71cadec96ff49b4124">name</a>));</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>:</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (tmp, <span class="keyword">sizeof</span> (tmp), <span class="stringliteral">&quot;%%%sc&quot;</span>, fmt);</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (dest, destlen, tmp, entry-&gt;<a class="code" href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">tagged</a> ? <span class="charliteral">&#39;*&#39;</span> : <span class="charliteral">&#39; &#39;</span>);</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;  <span class="keywordflow">default</span>:</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (tmp, <span class="keyword">sizeof</span> (tmp), <span class="stringliteral">&quot;%%%sc&quot;</span>, fmt);</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <a class="code" href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a> (dest, destlen, tmp, op);</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;  }</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;  <span class="keywordflow">if</span> (optional)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <a class="code" href="muttlib_8c.html#a8f68fc734dc58779cfabcfbb2d547602">mutt_FormatString</a> (dest, destlen, col, cols, ifstring, <a class="code" href="query_8c.html#aed87327a73580721c36cf3a72b6e0763">query_format_str</a>, data, 0);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (flags &amp; <a class="code" href="mutt_8h.html#a9498724ab6e4b2d35b96c492374513aeaf2d8536087d5168ce24d2aa7e71823cb">MUTT_FORMAT_OPTIONAL</a>)</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <a class="code" href="muttlib_8c.html#a8f68fc734dc58779cfabcfbb2d547602">mutt_FormatString</a> (dest, destlen, col, cols, elsestring, <a class="code" href="query_8c.html#aed87327a73580721c36cf3a72b6e0763">query_format_str</a>, data, 0);</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;  <span class="keywordflow">return</span> src;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;}</div><div class="ttc" id="structQUERY_html_aee958a494b52addc6597d06519c5786f"><div class="ttname"><a href="structQUERY.html#aee958a494b52addc6597d06519c5786f">QUERY::addr</a></div><div class="ttdeci">ADDRESS * addr</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00035">query.c:35</a></div></div>
<div class="ttc" id="rfc822_8c_html_adbe158d395e930b2fcdbe9d3c716f6e9"><div class="ttname"><a href="rfc822_8c.html#adbe158d395e930b2fcdbe9d3c716f6e9">rfc822_write_address</a></div><div class="ttdeci">int rfc822_write_address(char *buf, size_t buflen, ADDRESS *addr, int display)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00738">rfc822.c:738</a></div></div>
<div class="ttc" id="structENTRY_html_a349293aba35335aaecec00b8b79750ff"><div class="ttname"><a href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">ENTRY::data</a></div><div class="ttdeci">QUERY * data</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00044">query.c:44</a></div></div>
<div class="ttc" id="query_8c_html_aed87327a73580721c36cf3a72b6e0763"><div class="ttname"><a href="query_8c.html#aed87327a73580721c36cf3a72b6e0763">query_format_str</a></div><div class="ttdeci">static const char * query_format_str(char *dest, size_t destlen, size_t col, int cols, char op, const char *src, const char *fmt, const char *ifstring, const char *elsestring, unsigned long data, format_flag flags)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00186">query.c:186</a></div></div>
<div class="ttc" id="mutt_8h_html_a9498724ab6e4b2d35b96c492374513aeaf2d8536087d5168ce24d2aa7e71823cb"><div class="ttname"><a href="mutt_8h.html#a9498724ab6e4b2d35b96c492374513aeaf2d8536087d5168ce24d2aa7e71823cb">MUTT_FORMAT_OPTIONAL</a></div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00142">mutt.h:142</a></div></div>
<div class="ttc" id="structQUERY_html_a6c26abb232d76e7612ae2952c83acd5e"><div class="ttname"><a href="structQUERY.html#a6c26abb232d76e7612ae2952c83acd5e">QUERY::other</a></div><div class="ttdeci">char * other</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00037">query.c:37</a></div></div>
<div class="ttc" id="structQUERY_html_ad7011d24d11305b880da69a36f4aad15"><div class="ttname"><a href="structQUERY.html#ad7011d24d11305b880da69a36f4aad15">QUERY::num</a></div><div class="ttdeci">int num</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00034">query.c:34</a></div></div>
<div class="ttc" id="muttlib_8c_html_a8f68fc734dc58779cfabcfbb2d547602"><div class="ttname"><a href="muttlib_8c.html#a8f68fc734dc58779cfabcfbb2d547602">mutt_FormatString</a></div><div class="ttdeci">void mutt_FormatString(char *dest, size_t destlen, size_t col, int cols, const char *src, format_t *callback, unsigned long data, format_flag flags)</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l01186">muttlib.c:1186</a></div></div>
<div class="ttc" id="structENTRY_html"><div class="ttname"><a href="structENTRY.html">ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00041">query.c:41</a></div></div>
<div class="ttc" id="structQUERY_html_a40c6fa779033ee71cadec96ff49b4124"><div class="ttname"><a href="structQUERY.html#a40c6fa779033ee71cadec96ff49b4124">QUERY::name</a></div><div class="ttdeci">char * name</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00036">query.c:36</a></div></div>
<div class="ttc" id="lib_8h_html_a7e0481bed27661ea2679f256b24e0283"><div class="ttname"><a href="lib_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a></div><div class="ttdeci">#define NONULL(x)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="dotlock_8c_html_a357a42eb6494ea592e9c3f96c55cebe2"><div class="ttname"><a href="dotlock_8c.html#a357a42eb6494ea592e9c3f96c55cebe2">snprintf</a></div><div class="ttdeci">int snprintf(char *, size_t, const char *,...)</div></div>
<div class="ttc" id="lib_8h_html_a1f35aabd376e7d34b1900d9caae1715f"><div class="ttname"><a href="lib_8h.html#a1f35aabd376e7d34b1900d9caae1715f">SHORT_STRING</a></div><div class="ttdeci">#define SHORT_STRING</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00063">lib.h:63</a></div></div>
<div class="ttc" id="structENTRY_html_a940fab9cd1c5446b33706dee1b4ff76c"><div class="ttname"><a href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">ENTRY::tagged</a></div><div class="ttdeci">int tagged</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00043">query.c:43</a></div></div>
<div class="ttc" id="lib_8h_html_a0f4d394a3ab4e09bff60f714c66dc5ee"><div class="ttname"><a href="lib_8h.html#a0f4d394a3ab4e09bff60f714c66dc5ee">STRING</a></div><div class="ttdeci">#define STRING</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00062">lib.h:62</a></div></div>
<div class="ttc" id="structQUERY_html"><div class="ttname"><a href="structQUERY.html">QUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00032">query.c:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a136326500c877ec56cfaf37b49b85572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a136326500c877ec56cfaf37b49b85572">&#9670;&nbsp;</a></span>query_entry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void query_entry </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structMUTTMENU.html">MUTTMENU</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00240">240</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;{</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;  <a class="code" href="structENTRY.html">ENTRY</a> *entry = &amp;((<a class="code" href="structENTRY.html">ENTRY</a> *) m-&gt;<a class="code" href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">data</a>)[num];</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  entry-&gt;<a class="code" href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">data</a>-&gt;<a class="code" href="structQUERY.html#ad7011d24d11305b880da69a36f4aad15">num</a> = num;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <a class="code" href="muttlib_8c.html#a8f68fc734dc58779cfabcfbb2d547602">mutt_FormatString</a> (s, slen, 0, <a class="code" href="curs__lib_8c.html#afd19d94fefe1f3e10bd6f2e3564bb005">MuttIndexWindow</a>-&gt;<a class="code" href="structmutt__window__t.html#a6899cc51ad027005177c1d2835bce781">cols</a>, <a class="code" href="lib_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a> (<a class="code" href="globals_8h.html#ae09c0a6cf65dddb71ce097dfd787e87f">QueryFormat</a>), <a class="code" href="query_8c.html#aed87327a73580721c36cf3a72b6e0763">query_format_str</a>,</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                     (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>) entry, <a class="code" href="mutt_8h.html#a9498724ab6e4b2d35b96c492374513aea61a54fb63ca7159a4856f1a44f3579c8">MUTT_FORMAT_ARROWCURSOR</a>);</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;}</div><div class="ttc" id="structENTRY_html_a349293aba35335aaecec00b8b79750ff"><div class="ttname"><a href="structENTRY.html#a349293aba35335aaecec00b8b79750ff">ENTRY::data</a></div><div class="ttdeci">QUERY * data</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00044">query.c:44</a></div></div>
<div class="ttc" id="query_8c_html_aed87327a73580721c36cf3a72b6e0763"><div class="ttname"><a href="query_8c.html#aed87327a73580721c36cf3a72b6e0763">query_format_str</a></div><div class="ttdeci">static const char * query_format_str(char *dest, size_t destlen, size_t col, int cols, char op, const char *src, const char *fmt, const char *ifstring, const char *elsestring, unsigned long data, format_flag flags)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00186">query.c:186</a></div></div>
<div class="ttc" id="mutt_8h_html_a9498724ab6e4b2d35b96c492374513aea61a54fb63ca7159a4856f1a44f3579c8"><div class="ttname"><a href="mutt_8h.html#a9498724ab6e4b2d35b96c492374513aea61a54fb63ca7159a4856f1a44f3579c8">MUTT_FORMAT_ARROWCURSOR</a></div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00144">mutt.h:144</a></div></div>
<div class="ttc" id="structQUERY_html_ad7011d24d11305b880da69a36f4aad15"><div class="ttname"><a href="structQUERY.html#ad7011d24d11305b880da69a36f4aad15">QUERY::num</a></div><div class="ttdeci">int num</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00034">query.c:34</a></div></div>
<div class="ttc" id="muttlib_8c_html_a8f68fc734dc58779cfabcfbb2d547602"><div class="ttname"><a href="muttlib_8c.html#a8f68fc734dc58779cfabcfbb2d547602">mutt_FormatString</a></div><div class="ttdeci">void mutt_FormatString(char *dest, size_t destlen, size_t col, int cols, const char *src, format_t *callback, unsigned long data, format_flag flags)</div><div class="ttdef"><b>Definition:</b> <a href="muttlib_8c_source.html#l01186">muttlib.c:1186</a></div></div>
<div class="ttc" id="structENTRY_html"><div class="ttname"><a href="structENTRY.html">ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00041">query.c:41</a></div></div>
<div class="ttc" id="curs__lib_8c_html_afd19d94fefe1f3e10bd6f2e3564bb005"><div class="ttname"><a href="curs__lib_8c.html#afd19d94fefe1f3e10bd6f2e3564bb005">MuttIndexWindow</a></div><div class="ttdeci">mutt_window_t * MuttIndexWindow</div><div class="ttdef"><b>Definition:</b> <a href="curs__lib_8c_source.html#l00074">curs_lib.c:74</a></div></div>
<div class="ttc" id="structmutt__window__t_html_a6899cc51ad027005177c1d2835bce781"><div class="ttname"><a href="structmutt__window__t.html#a6899cc51ad027005177c1d2835bce781">mutt_window_t::cols</a></div><div class="ttdeci">int cols</div><div class="ttdef"><b>Definition:</b> <a href="mutt__curses_8h_source.html#l00183">mutt_curses.h:183</a></div></div>
<div class="ttc" id="lib_8h_html_a7e0481bed27661ea2679f256b24e0283"><div class="ttname"><a href="lib_8h.html#a7e0481bed27661ea2679f256b24e0283">NONULL</a></div><div class="ttdeci">#define NONULL(x)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00078">lib.h:78</a></div></div>
<div class="ttc" id="globals_8h_html_ae09c0a6cf65dddb71ce097dfd787e87f"><div class="ttname"><a href="globals_8h.html#ae09c0a6cf65dddb71ce097dfd787e87f">QueryFormat</a></div><div class="ttdeci">WHERE char * QueryFormat</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00131">globals.h:131</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a6f53166468e752baea98ad0232ea98fe"><div class="ttname"><a href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">MUTTMENU::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00048">mutt_menu.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d246e5d5e99f20abc3a074faa93b5c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d246e5d5e99f20abc3a074faa93b5c5">&#9670;&nbsp;</a></span>query_tag()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int query_tag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMUTTMENU.html">MUTTMENU</a> *&#160;</td>
          <td class="paramname"><em>menu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00249">249</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;{</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  <a class="code" href="structENTRY.html">ENTRY</a> *cur = &amp;((<a class="code" href="structENTRY.html">ENTRY</a> *) menu-&gt;<a class="code" href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">data</a>)[<a class="code" href="dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a>];</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  <span class="keywordtype">int</span> ot = cur-&gt;<a class="code" href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">tagged</a>;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;  </div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;  cur-&gt;<a class="code" href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">tagged</a> = m &gt;= 0 ? m : !cur-&gt;<a class="code" href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">tagged</a>;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;  <span class="keywordflow">return</span> cur-&gt;<a class="code" href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">tagged</a> - ot;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;}</div><div class="ttc" id="dcigettext_8c_html_a58257445f1a929304e537613b62ebb35"><div class="ttname"><a href="dcigettext_8c.html#a58257445f1a929304e537613b62ebb35">n</a></div><div class="ttdeci">unsigned long int n</div><div class="ttdef"><b>Definition:</b> <a href="dcigettext_8c_source.html#l00407">dcigettext.c:407</a></div></div>
<div class="ttc" id="structENTRY_html"><div class="ttname"><a href="structENTRY.html">ENTRY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00041">query.c:41</a></div></div>
<div class="ttc" id="structENTRY_html_a940fab9cd1c5446b33706dee1b4ff76c"><div class="ttname"><a href="structENTRY.html#a940fab9cd1c5446b33706dee1b4ff76c">ENTRY::tagged</a></div><div class="ttdeci">int tagged</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00043">query.c:43</a></div></div>
<div class="ttc" id="structMUTTMENU_html_a6f53166468e752baea98ad0232ea98fe"><div class="ttname"><a href="structMUTTMENU.html#a6f53166468e752baea98ad0232ea98fe">MUTTMENU::data</a></div><div class="ttdeci">void * data</div><div class="ttdef"><b>Definition:</b> <a href="mutt__menu_8h_source.html#l00048">mutt_menu.h:48</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a78b2d84a549146532bad0a1c33bad391"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78b2d84a549146532bad0a1c33bad391">&#9670;&nbsp;</a></span>mutt_query_complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mutt_query_complete </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00258">258</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;{</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="structQUERY.html">QUERY</a> *results = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="structADDRESS.html">ADDRESS</a> *tmpa;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="globals_8h.html#a812b85c50482428487aa6eda4836f722">QueryCmd</a>)</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;  {</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    <a class="code" href="extlib_8c.html#a90829ddbd5f0edf736c9f6e595cfc0be">mutt_error</a> <a class="code" href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Query command not defined.&quot;</span>);</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;  }</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;  results = <a class="code" href="query_8c.html#abde8f82328d796556d6efb18207def61">run_query</a> (buf, 1);</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;  <span class="keywordflow">if</span> (results)</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  {</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">/* only one response? */</span></div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (results-&gt;<a class="code" href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">next</a> == <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;      tmpa = <a class="code" href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a> (results);</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;      <a class="code" href="mutt__idna_8c.html#a5c4717533f3e89f64a7486456b721e4b">mutt_addrlist_to_local</a> (tmpa);</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      buf[0] = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      <a class="code" href="rfc822_8c.html#adbe158d395e930b2fcdbe9d3c716f6e9">rfc822_write_address</a> (buf, buflen, tmpa, 0);</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;      <a class="code" href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a> (&amp;tmpa);</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;      <a class="code" href="query_8c.html#aa4138e640f77ec479114e7322d8695d8">free_query</a> (&amp;results);</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;      <a class="code" href="curs__lib_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a> ();</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;      <span class="keywordflow">return</span> (0);</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    }</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">/* multiple results, choose from query menu */</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <a class="code" href="query_8c.html#adcbc14cfce9bfccbf6b01f157eda4d53">query_menu</a> (buf, buflen, results, 1);</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  }</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <span class="keywordflow">return</span> (0);</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;}</div><div class="ttc" id="query_8c_html_adcbc14cfce9bfccbf6b01f157eda4d53"><div class="ttname"><a href="query_8c.html#adcbc14cfce9bfccbf6b01f157eda4d53">query_menu</a></div><div class="ttdeci">static void query_menu(char *buf, size_t buflen, QUERY *results, int retbuf)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00310">query.c:310</a></div></div>
<div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="query_8c_html_aa97bd0bd3b2224cf8c68e804665129ca"><div class="ttname"><a href="query_8c.html#aa97bd0bd3b2224cf8c68e804665129ca">result_to_addr</a></div><div class="ttdeci">static ADDRESS * result_to_addr(QUERY *r)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00059">query.c:59</a></div></div>
<div class="ttc" id="structQUERY_html_aa0ae99e0ff8ad563653656e3e669ee20"><div class="ttname"><a href="structQUERY.html#aa0ae99e0ff8ad563653656e3e669ee20">QUERY::next</a></div><div class="ttdeci">struct query * next</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00038">query.c:38</a></div></div>
<div class="ttc" id="rfc822_8c_html_adbe158d395e930b2fcdbe9d3c716f6e9"><div class="ttname"><a href="rfc822_8c.html#adbe158d395e930b2fcdbe9d3c716f6e9">rfc822_write_address</a></div><div class="ttdeci">int rfc822_write_address(char *buf, size_t buflen, ADDRESS *addr, int display)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00738">rfc822.c:738</a></div></div>
<div class="ttc" id="rfc822_8c_html_a33931a3025bf03d90d6c4cda3ea0ea42"><div class="ttname"><a href="rfc822_8c.html#a33931a3025bf03d90d6c4cda3ea0ea42">rfc822_free_address</a></div><div class="ttdeci">void rfc822_free_address(ADDRESS **p)</div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8c_source.html#l00122">rfc822.c:122</a></div></div>
<div class="ttc" id="curs__lib_8c_html_af068b3f524a31fad293b2fb61dfc4534"><div class="ttname"><a href="curs__lib_8c.html#af068b3f524a31fad293b2fb61dfc4534">mutt_clear_error</a></div><div class="ttdeci">void mutt_clear_error(void)</div><div class="ttdef"><b>Definition:</b> <a href="curs__lib_8c_source.html#l00197">curs_lib.c:197</a></div></div>
<div class="ttc" id="extlib_8c_html_a90829ddbd5f0edf736c9f6e595cfc0be"><div class="ttname"><a href="extlib_8c.html#a90829ddbd5f0edf736c9f6e595cfc0be">mutt_error</a></div><div class="ttdeci">void(* mutt_error)(const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="extlib_8c_source.html#l00037">extlib.c:37</a></div></div>
<div class="ttc" id="lib_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00046">lib.h:46</a></div></div>
<div class="ttc" id="structADDRESS_html"><div class="ttname"><a href="structADDRESS.html">ADDRESS</a></div><div class="ttdef"><b>Definition:</b> <a href="rfc822_8h_source.html#l00036">rfc822.h:36</a></div></div>
<div class="ttc" id="query_8c_html_abde8f82328d796556d6efb18207def61"><div class="ttname"><a href="query_8c.html#abde8f82328d796556d6efb18207def61">run_query</a></div><div class="ttdeci">static QUERY * run_query(char *s, int quiet)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00092">query.c:92</a></div></div>
<div class="ttc" id="query_8c_html_aa4138e640f77ec479114e7322d8695d8"><div class="ttname"><a href="query_8c.html#aa4138e640f77ec479114e7322d8695d8">free_query</a></div><div class="ttdeci">static void free_query(QUERY **query)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00073">query.c:73</a></div></div>
<div class="ttc" id="mutt__idna_8c_html_a5c4717533f3e89f64a7486456b721e4b"><div class="ttname"><a href="mutt__idna_8c.html#a5c4717533f3e89f64a7486456b721e4b">mutt_addrlist_to_local</a></div><div class="ttdeci">int mutt_addrlist_to_local(ADDRESS *a)</div><div class="ttdef"><b>Definition:</b> <a href="mutt__idna_8c_source.html#l00260">mutt_idna.c:260</a></div></div>
<div class="ttc" id="structQUERY_html"><div class="ttname"><a href="structQUERY.html">QUERY</a></div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00032">query.c:32</a></div></div>
<div class="ttc" id="globals_8h_html_a812b85c50482428487aa6eda4836f722"><div class="ttname"><a href="globals_8h.html#a812b85c50482428487aa6eda4836f722">QueryCmd</a></div><div class="ttdeci">WHERE char * QueryCmd</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00130">globals.h:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aec11a6fe48256de264445a62b71fc070"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec11a6fe48256de264445a62b71fc070">&#9670;&nbsp;</a></span>mutt_query_menu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_query_menu </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00290">290</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="globals_8h.html#a812b85c50482428487aa6eda4836f722">QueryCmd</a>)</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;  {</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <a class="code" href="extlib_8c.html#a90829ddbd5f0edf736c9f6e595cfc0be">mutt_error</a> <a class="code" href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a>(<span class="stringliteral">&quot;Query command not defined.&quot;</span>);</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  }</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  <span class="keywordflow">if</span> (buf == <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  {</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordtype">char</span> buffer[<a class="code" href="lib_8h.html#a0f4d394a3ab4e09bff60f714c66dc5ee">STRING</a>] = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <a class="code" href="query_8c.html#adcbc14cfce9bfccbf6b01f157eda4d53">query_menu</a> (buffer, <span class="keyword">sizeof</span> (buffer), <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 0);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  }</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  {</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <a class="code" href="query_8c.html#adcbc14cfce9bfccbf6b01f157eda4d53">query_menu</a> (buf, buflen, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, 1);</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;  }</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;}</div><div class="ttc" id="query_8c_html_adcbc14cfce9bfccbf6b01f157eda4d53"><div class="ttname"><a href="query_8c.html#adcbc14cfce9bfccbf6b01f157eda4d53">query_menu</a></div><div class="ttdeci">static void query_menu(char *buf, size_t buflen, QUERY *results, int retbuf)</div><div class="ttdef"><b>Definition:</b> <a href="query_8c_source.html#l00310">query.c:310</a></div></div>
<div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="extlib_8c_html_a90829ddbd5f0edf736c9f6e595cfc0be"><div class="ttname"><a href="extlib_8c.html#a90829ddbd5f0edf736c9f6e595cfc0be">mutt_error</a></div><div class="ttdeci">void(* mutt_error)(const char *,...)</div><div class="ttdef"><b>Definition:</b> <a href="extlib_8c_source.html#l00037">extlib.c:37</a></div></div>
<div class="ttc" id="lib_8h_html_a479d658dfd60fe8d9709ec67a58b34ca"><div class="ttname"><a href="lib_8h.html#a479d658dfd60fe8d9709ec67a58b34ca">_</a></div><div class="ttdeci">#define _(a)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00046">lib.h:46</a></div></div>
<div class="ttc" id="lib_8h_html_a0f4d394a3ab4e09bff60f714c66dc5ee"><div class="ttname"><a href="lib_8h.html#a0f4d394a3ab4e09bff60f714c66dc5ee">STRING</a></div><div class="ttdeci">#define STRING</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00062">lib.h:62</a></div></div>
<div class="ttc" id="globals_8h_html_a812b85c50482428487aa6eda4836f722"><div class="ttname"><a href="globals_8h.html#a812b85c50482428487aa6eda4836f722">QueryCmd</a></div><div class="ttdeci">WHERE char * QueryCmd</div><div class="ttdef"><b>Definition:</b> <a href="globals_8h_source.html#l00130">globals.h:130</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4515de763378bb3127f0a9ea5730479d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4515de763378bb3127f0a9ea5730479d">&#9670;&nbsp;</a></span>QueryHelp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> struct <a class="el" href="structmapping__t.html">mapping_t</a> QueryHelp[]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div><div class="line">  { <a class="code" href="lib_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Exit&quot;</span>),   OP_EXIT },</div><div class="line">  { <a class="code" href="lib_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Mail&quot;</span>),   OP_MAIL },</div><div class="line">  { <a class="code" href="lib_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;New Query&quot;</span>),  OP_QUERY },</div><div class="line">  { <a class="code" href="lib_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Make Alias&quot;</span>), OP_CREATE_ALIAS },</div><div class="line">  { <a class="code" href="lib_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Search&quot;</span>), OP_SEARCH },</div><div class="line">  { <a class="code" href="lib_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a>(<span class="stringliteral">&quot;Help&quot;</span>),   OP_HELP },</div><div class="line">  { <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>,         0 }</div><div class="line">}</div><div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="lib_8h_html_a31ded3def3488d88308bf46040b4ca19"><div class="ttname"><a href="lib_8h.html#a31ded3def3488d88308bf46040b4ca19">N_</a></div><div class="ttdeci">#define N_(a)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8h_source.html#l00050">lib.h:50</a></div></div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="query_8c_source.html#l00047">47</a> of file <a class="el" href="query_8c_source.html">query.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
