<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NeoMutt: buffy.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="mutt.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NeoMutt
   &#160;<span id="projectnumber">1.7.1</span>
   </div>
   <div id="projectbrief">Mail Reader</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">buffy.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="buffy_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structBUFFY.html">BUFFY</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a73b9712f9221a28b5bcb5690659612e6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#a73b9712f9221a28b5bcb5690659612e6">MUTT_MAILBOXES</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a73b9712f9221a28b5bcb5690659612e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f539e824518c84431ce146a8b90be3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#a58f539e824518c84431ce146a8b90be3">MUTT_UNMAILBOXES</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a58f539e824518c84431ce146a8b90be3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a83c9dc4c7f039eb9ae300de1b596a8f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mutt_8h.html#acd4a2dee55f5359c0389baab37c2f468">WHERE</a> <a class="el" href="structBUFFY.html">BUFFY</a> *Incoming&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#a83c9dc4c7f039eb9ae300de1b596a8f5">INITVAL</a> (0)</td></tr>
<tr class="separator:a83c9dc4c7f039eb9ae300de1b596a8f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed805ff3f898b7aca4580b18869d537"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mutt_8h.html#acd4a2dee55f5359c0389baab37c2f468">WHERE</a> short BuffyTimeout&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#abed805ff3f898b7aca4580b18869d537">INITVAL</a> (3)</td></tr>
<tr class="separator:abed805ff3f898b7aca4580b18869d537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a817228760bda8d0601597b23c5254929"><td class="memItemLeft" align="right" valign="top"><a class="el" href="mutt_8h.html#acd4a2dee55f5359c0389baab37c2f468">WHERE</a> short BuffyCheckStatsInterval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#a817228760bda8d0601597b23c5254929">INITVAL</a> (60)</td></tr>
<tr class="separator:a817228760bda8d0601597b23c5254929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6a9c115ef13e0ce040828893acc0a2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#aef6a9c115ef13e0ce040828893acc0a2">mutt_buffy_vfolder</a> (char *s, size_t slen)</td></tr>
<tr class="separator:aef6a9c115ef13e0ce040828893acc0a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ee209d1db9b78990921ab012585728"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structBUFFY.html">BUFFY</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#a53ee209d1db9b78990921ab012585728">mutt_find_mailbox</a> (<a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *path)</td></tr>
<tr class="separator:a53ee209d1db9b78990921ab012585728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab493476bfee5f56a466bb17914966e6b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#ab493476bfee5f56a466bb17914966e6b">mutt_update_mailbox</a> (<a class="el" href="structBUFFY.html">BUFFY</a> *b)</td></tr>
<tr class="separator:ab493476bfee5f56a466bb17914966e6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefff7268cf78e41a6c17567f0259c1c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#aefff7268cf78e41a6c17567f0259c1c3">mutt_buffy_cleanup</a> (<a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *buf, struct stat *st)</td></tr>
<tr class="separator:aefff7268cf78e41a6c17567f0259c1c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa3cbd1cc0b138557c9861b7308532c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#aeaa3cbd1cc0b138557c9861b7308532c">mutt_buffy_setnotified</a> (<a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *path)</td></tr>
<tr class="separator:aeaa3cbd1cc0b138557c9861b7308532c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3656d161544523fc587820f91d948194"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#a3656d161544523fc587820f91d948194">mh_buffy</a> (<a class="el" href="structBUFFY.html">BUFFY</a> *, int)</td></tr>
<tr class="separator:a3656d161544523fc587820f91d948194"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a554ac0544233aef2fa0fbc0f87c760f4"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="buffy_8h.html#a554ac0544233aef2fa0fbc0f87c760f4">BuffyDoneTime</a></td></tr>
<tr class="separator:a554ac0544233aef2fa0fbc0f87c760f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a73b9712f9221a28b5bcb5690659612e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73b9712f9221a28b5bcb5690659612e6">&#9670;&nbsp;</a></span>MUTT_MAILBOXES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MUTT_MAILBOXES&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="buffy_8h_source.html#l00023">23</a> of file <a class="el" href="buffy_8h_source.html">buffy.h</a>.</p>

</div>
</div>
<a id="a58f539e824518c84431ce146a8b90be3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f539e824518c84431ce146a8b90be3">&#9670;&nbsp;</a></span>MUTT_UNMAILBOXES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MUTT_UNMAILBOXES&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="buffy_8h_source.html#l00024">24</a> of file <a class="el" href="buffy_8h_source.html">buffy.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a83c9dc4c7f039eb9ae300de1b596a8f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83c9dc4c7f039eb9ae300de1b596a8f5">&#9670;&nbsp;</a></span>INITVAL() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mutt_8h.html#acd4a2dee55f5359c0389baab37c2f468">WHERE</a> <a class="el" href="structLIST.html">LIST</a> *UserHeader INITVAL </td>
          <td>(</td>
          <td class="paramtype">0&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abed805ff3f898b7aca4580b18869d537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed805ff3f898b7aca4580b18869d537">&#9670;&nbsp;</a></span>INITVAL() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mutt_8h.html#acd4a2dee55f5359c0389baab37c2f468">WHERE</a> short BuffyTimeout INITVAL </td>
          <td>(</td>
          <td class="paramtype">3&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a817228760bda8d0601597b23c5254929"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a817228760bda8d0601597b23c5254929">&#9670;&nbsp;</a></span>INITVAL() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="mutt_8h.html#acd4a2dee55f5359c0389baab37c2f468">WHERE</a> short BuffyCheckStatsInterval INITVAL </td>
          <td>(</td>
          <td class="paramtype">60&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aef6a9c115ef13e0ce040828893acc0a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef6a9c115ef13e0ce040828893acc0a2">&#9670;&nbsp;</a></span>mutt_buffy_vfolder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_buffy_vfolder </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="buffy_8c_source.html#l00861">861</a> of file <a class="el" href="buffy_8c_source.html">buffy.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;{</div><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  <a class="code" href="structBUFFY.html">BUFFY</a> *tmp;</div><div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;  <span class="keywordtype">int</span> pass, found = 0;</div><div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;</div><div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="buffy_8c.html#a88fc7552c28c14b3de4b62b59ad94323">mutt_buffy_check</a> (0))</div><div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;  {</div><div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="keywordflow">for</span> (pass = 0; pass &lt; 2; pass++) {</div><div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;      <span class="keywordflow">for</span> (tmp = VirtIncoming; tmp; tmp = tmp-&gt;<a class="code" href="structBUFFY.html#ac714236d1c0c109a7589a333aaa80482">next</a>)</div><div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;      {</div><div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">if</span> ((found || pass) &amp;&amp; tmp-&gt;<a class="code" href="structBUFFY.html#acab0405f4a5839e81f80ac1a37524f79">new</a>)</div><div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        {</div><div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;          <a class="code" href="dotlock_8c.html#a768fe3117209ae26750fc8c64cf2b7ed">strfcpy</a> (s, tmp-&gt;<a class="code" href="structBUFFY.html#a0de3dc4a1032b94454907155b37b2ffd">desc</a>, slen);</div><div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;          <span class="keywordflow">return</span>;</div><div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        }</div><div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="lib_8c.html#a9d3f558f913a5ca9d30468d7735b2e0f">mutt_strcmp</a> (s, tmp-&gt;<a class="code" href="structBUFFY.html#a8429de735fde653f73bfe24144cbed0e">path</a>) == 0)</div><div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;          found = 1;</div><div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;      }</div><div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    }</div><div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;</div><div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    <a class="code" href="buffy_8c.html#a88fc7552c28c14b3de4b62b59ad94323">mutt_buffy_check</a> (1); <span class="comment">/* buffy was wrong - resync things */</span></div><div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  }</div><div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div><div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="comment">/* no folders with new mail */</span></div><div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;  *s = <span class="charliteral">&#39;\0&#39;</span>;</div><div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;}</div><div class="ttc" id="lib_8c_html_a9d3f558f913a5ca9d30468d7735b2e0f"><div class="ttname"><a href="lib_8c.html#a9d3f558f913a5ca9d30468d7735b2e0f">mutt_strcmp</a></div><div class="ttdeci">int mutt_strcmp(const char *a, const char *b)</div><div class="ttdef"><b>Definition:</b> <a href="lib_8c_source.html#l00892">lib.c:892</a></div></div>
<div class="ttc" id="structBUFFY_html_a8429de735fde653f73bfe24144cbed0e"><div class="ttname"><a href="structBUFFY.html#a8429de735fde653f73bfe24144cbed0e">BUFFY::path</a></div><div class="ttdeci">char path[_POSIX_PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00028">buffy.h:28</a></div></div>
<div class="ttc" id="structBUFFY_html_ac714236d1c0c109a7589a333aaa80482"><div class="ttname"><a href="structBUFFY.html#ac714236d1c0c109a7589a333aaa80482">BUFFY::next</a></div><div class="ttdeci">struct buffy_t * next</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00033">buffy.h:33</a></div></div>
<div class="ttc" id="structBUFFY_html_a0de3dc4a1032b94454907155b37b2ffd"><div class="ttname"><a href="structBUFFY.html#a0de3dc4a1032b94454907155b37b2ffd">BUFFY::desc</a></div><div class="ttdeci">char * desc</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00031">buffy.h:31</a></div></div>
<div class="ttc" id="structBUFFY_html"><div class="ttname"><a href="structBUFFY.html">BUFFY</a></div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00026">buffy.h:26</a></div></div>
<div class="ttc" id="structBUFFY_html_acab0405f4a5839e81f80ac1a37524f79"><div class="ttname"><a href="structBUFFY.html#acab0405f4a5839e81f80ac1a37524f79">BUFFY::new</a></div><div class="ttdeci">short new</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00034">buffy.h:34</a></div></div>
<div class="ttc" id="dotlock_8c_html_a768fe3117209ae26750fc8c64cf2b7ed"><div class="ttname"><a href="dotlock_8c.html#a768fe3117209ae26750fc8c64cf2b7ed">strfcpy</a></div><div class="ttdeci">#define strfcpy(DST, SRC, LEN)</div><div class="ttdef"><b>Definition:</b> <a href="dotlock_8c_source.html#l00066">dotlock.c:66</a></div></div>
<div class="ttc" id="buffy_8c_html_a88fc7552c28c14b3de4b62b59ad94323"><div class="ttname"><a href="buffy_8c.html#a88fc7552c28c14b3de4b62b59ad94323">mutt_buffy_check</a></div><div class="ttdeci">int mutt_buffy_check(int force)</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8c_source.html#l00684">buffy.c:684</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53ee209d1db9b78990921ab012585728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53ee209d1db9b78990921ab012585728">&#9670;&nbsp;</a></span>mutt_find_mailbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structBUFFY.html">BUFFY</a>* mutt_find_mailbox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="buffy_8c_source.html#l00174">174</a> of file <a class="el" href="buffy_8c_source.html">buffy.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;{</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;  <a class="code" href="structBUFFY.html">BUFFY</a> *tmp = <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;  <span class="keyword">struct </span>stat sb;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;  <span class="keyword">struct </span>stat tmp_sb;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;  </div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;  <span class="keywordflow">if</span> (stat (path,&amp;sb) != 0)</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;  <span class="keywordflow">for</span> (tmp = Incoming; tmp; tmp = tmp-&gt;<a class="code" href="structBUFFY.html#ac714236d1c0c109a7589a333aaa80482">next</a>)</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;  {</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (stat (tmp-&gt;<a class="code" href="structBUFFY.html#a8429de735fde653f73bfe24144cbed0e">path</a>,&amp;tmp_sb) ==0 &amp;&amp; </div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        sb.st_dev == tmp_sb.st_dev &amp;&amp; sb.st_ino == tmp_sb.st_ino)</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;      <span class="keywordflow">break</span>;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;  }</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;  <span class="keywordflow">return</span> tmp;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div><div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="structBUFFY_html_a8429de735fde653f73bfe24144cbed0e"><div class="ttname"><a href="structBUFFY.html#a8429de735fde653f73bfe24144cbed0e">BUFFY::path</a></div><div class="ttdeci">char path[_POSIX_PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00028">buffy.h:28</a></div></div>
<div class="ttc" id="structBUFFY_html_ac714236d1c0c109a7589a333aaa80482"><div class="ttname"><a href="structBUFFY.html#ac714236d1c0c109a7589a333aaa80482">BUFFY::next</a></div><div class="ttdeci">struct buffy_t * next</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00033">buffy.h:33</a></div></div>
<div class="ttc" id="structBUFFY_html"><div class="ttname"><a href="structBUFFY.html">BUFFY</a></div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00026">buffy.h:26</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab493476bfee5f56a466bb17914966e6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab493476bfee5f56a466bb17914966e6b">&#9670;&nbsp;</a></span>mutt_update_mailbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_update_mailbox </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBUFFY.html">BUFFY</a> *&#160;</td>
          <td class="paramname"><em>b</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="buffy_8c_source.html#l00192">192</a> of file <a class="el" href="buffy_8c_source.html">buffy.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;{</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keyword">struct </span>stat sb;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;  <span class="keywordflow">if</span> (!b)</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;  <span class="keywordflow">if</span> (stat (b-&gt;<a class="code" href="structBUFFY.html#a8429de735fde653f73bfe24144cbed0e">path</a>, &amp;sb) == 0)</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    b-&gt;<a class="code" href="structBUFFY.html#a8719728ef095c666146c6ebc0743aceb">size</a> = (off_t) sb.st_size;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    b-&gt;<a class="code" href="structBUFFY.html#a8719728ef095c666146c6ebc0743aceb">size</a> = 0;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;  <span class="keywordflow">return</span>;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;}</div><div class="ttc" id="structBUFFY_html_a8429de735fde653f73bfe24144cbed0e"><div class="ttname"><a href="structBUFFY.html#a8429de735fde653f73bfe24144cbed0e">BUFFY::path</a></div><div class="ttdeci">char path[_POSIX_PATH_MAX]</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00028">buffy.h:28</a></div></div>
<div class="ttc" id="structBUFFY_html_a8719728ef095c666146c6ebc0743aceb"><div class="ttname"><a href="structBUFFY.html#a8719728ef095c666146c6ebc0743aceb">BUFFY::size</a></div><div class="ttdeci">off_t size</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00032">buffy.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aefff7268cf78e41a6c17567f0259c1c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefff7268cf78e41a6c17567f0259c1c3">&#9670;&nbsp;</a></span>mutt_buffy_cleanup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_buffy_cleanup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct stat *&#160;</td>
          <td class="paramname"><em>st</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="buffy_8c_source.html#l00149">149</a> of file <a class="el" href="buffy_8c_source.html">buffy.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;{</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  <span class="keyword">struct </span>utimbuf ut;</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  <a class="code" href="structBUFFY.html">BUFFY</a> *tmp;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mutt_8h.html#ae01642ac28c3b02ba17e0020477e90c1">option</a>(<a class="code" href="mutt_8h.html#a94798fdadfbf49a7c658ace669a1d310a97474fb30a1b06c369cc4bb9e8029ebe">OPTCHECKMBOXSIZE</a>))</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;  {</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    tmp = <a class="code" href="buffy_8c.html#a53ee209d1db9b78990921ab012585728">mutt_find_mailbox</a> (buf);</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">if</span> (tmp &amp;&amp; !tmp-&gt;new)</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;      <a class="code" href="buffy_8c.html#ab493476bfee5f56a466bb17914966e6b">mutt_update_mailbox</a> (tmp);</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;  }</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;  {</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="comment">/* fix up the times so buffy won&#39;t get confused */</span></div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">if</span> (st-&gt;st_mtime &gt; st-&gt;st_atime)</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    {</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      ut.actime = st-&gt;st_atime;</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      ut.modtime = <a class="code" href="protos_8h.html#a023a060a6ec6f836453010baac84279e">time</a> (<a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;      utime (buf, &amp;ut); </div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    }</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">else</span></div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;      utime (buf, <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  }</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;}</div><div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="buffy_8c_html_a53ee209d1db9b78990921ab012585728"><div class="ttname"><a href="buffy_8c.html#a53ee209d1db9b78990921ab012585728">mutt_find_mailbox</a></div><div class="ttdeci">BUFFY * mutt_find_mailbox(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8c_source.html#l00174">buffy.c:174</a></div></div>
<div class="ttc" id="mutt_8h_html_ae01642ac28c3b02ba17e0020477e90c1"><div class="ttname"><a href="mutt_8h.html#ae01642ac28c3b02ba17e0020477e90c1">option</a></div><div class="ttdeci">#define option(x)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00631">mutt.h:631</a></div></div>
<div class="ttc" id="structBUFFY_html"><div class="ttname"><a href="structBUFFY.html">BUFFY</a></div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00026">buffy.h:26</a></div></div>
<div class="ttc" id="protos_8h_html_a023a060a6ec6f836453010baac84279e"><div class="ttname"><a href="protos_8h.html#a023a060a6ec6f836453010baac84279e">time</a></div><div class="ttdeci">time_t time()</div></div>
<div class="ttc" id="buffy_8c_html_ab493476bfee5f56a466bb17914966e6b"><div class="ttname"><a href="buffy_8c.html#ab493476bfee5f56a466bb17914966e6b">mutt_update_mailbox</a></div><div class="ttdeci">void mutt_update_mailbox(BUFFY *b)</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8c_source.html#l00192">buffy.c:192</a></div></div>
<div class="ttc" id="mutt_8h_html_a94798fdadfbf49a7c658ace669a1d310a97474fb30a1b06c369cc4bb9e8029ebe"><div class="ttname"><a href="mutt_8h.html#a94798fdadfbf49a7c658ace669a1d310a97474fb30a1b06c369cc4bb9e8029ebe">OPTCHECKMBOXSIZE</a></div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00385">mutt.h:385</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeaa3cbd1cc0b138557c9861b7308532c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa3cbd1cc0b138557c9861b7308532c">&#9670;&nbsp;</a></span>mutt_buffy_setnotified()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mutt_buffy_setnotified </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="plural_8c.html#a2c212835823e3c54a8ab6d95c652660e">const</a> char *&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="buffy_8c_source.html#l00803">803</a> of file <a class="el" href="buffy_8c_source.html">buffy.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div><div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <a class="code" href="structBUFFY.html">BUFFY</a> *buffy;</div><div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div><div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;  buffy = <a class="code" href="buffy_8c.html#afc55cf837cb5dca8911de680776fa7e8">buffy_get</a>(path);</div><div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  <span class="keywordflow">if</span> (!buffy)</div><div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="keywordflow">return</span>;</div><div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div><div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  buffy-&gt;<a class="code" href="structBUFFY.html#ab0ba66c804d3b75a3360c87f20d8feb1">notified</a> = 1;</div><div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <a class="code" href="protos_8h.html#a023a060a6ec6f836453010baac84279e">time</a>(&amp;buffy-&gt;<a class="code" href="structBUFFY.html#a7b337d02c94b2c24503cba795b02c64c">last_visited</a>);</div><div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;}</div><div class="ttc" id="buffy_8c_html_afc55cf837cb5dca8911de680776fa7e8"><div class="ttname"><a href="buffy_8c.html#afc55cf837cb5dca8911de680776fa7e8">buffy_get</a></div><div class="ttdeci">static BUFFY * buffy_get(const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8c_source.html#l00890">buffy.c:890</a></div></div>
<div class="ttc" id="structBUFFY_html"><div class="ttname"><a href="structBUFFY.html">BUFFY</a></div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00026">buffy.h:26</a></div></div>
<div class="ttc" id="protos_8h_html_a023a060a6ec6f836453010baac84279e"><div class="ttname"><a href="protos_8h.html#a023a060a6ec6f836453010baac84279e">time</a></div><div class="ttdeci">time_t time()</div></div>
<div class="ttc" id="structBUFFY_html_a7b337d02c94b2c24503cba795b02c64c"><div class="ttname"><a href="structBUFFY.html#a7b337d02c94b2c24503cba795b02c64c">BUFFY::last_visited</a></div><div class="ttdeci">time_t last_visited</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00044">buffy.h:44</a></div></div>
<div class="ttc" id="structBUFFY_html_ab0ba66c804d3b75a3360c87f20d8feb1"><div class="ttname"><a href="structBUFFY.html#ab0ba66c804d3b75a3360c87f20d8feb1">BUFFY::notified</a></div><div class="ttdeci">short notified</div><div class="ttdef"><b>Definition:</b> <a href="buffy_8h_source.html#l00041">buffy.h:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3656d161544523fc587820f91d948194"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3656d161544523fc587820f91d948194">&#9670;&nbsp;</a></span>mh_buffy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int mh_buffy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structBUFFY.html">BUFFY</a> *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mh_8c_source.html#l00279">279</a> of file <a class="el" href="mh_8c_source.html">mh.c</a>.</p>
<div class="fragment"><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;{</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a>;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keyword">struct </span><a class="code" href="structmh__sequences.html">mh_sequences</a> mhs;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  <span class="keywordtype">int</span> check_new = 1;</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <span class="keywordtype">int</span> rc = 0;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;  DIR *dirp;</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  <span class="keyword">struct </span>dirent *de;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="comment">/* when $mail_check_recent is set and the .mh_sequences file hasn&#39;t changed</span></div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;<span class="comment">   * since the last mailbox visit, there is no &quot;new mail&quot; */</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mutt_8h.html#ae01642ac28c3b02ba17e0020477e90c1">option</a>(<a class="code" href="mutt_8h.html#a94798fdadfbf49a7c658ace669a1d310ae1af7e3d9b74a42af59d92ad58fd2233">OPTMAILCHECKRECENT</a>) &amp;&amp; <a class="code" href="mh_8c.html#ad491f8a7a82fa41a0413b539d61442e2">mh_sequences_changed</a>(mailbox) &lt;= 0)</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  {</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    rc = 0;</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    check_new = 0;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;  }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;  <span class="keywordflow">if</span> (! (check_new || check_stats))</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  <a class="code" href="protos_8h.html#adb03df3679ce1445e801310614624ccb">memset</a> (&amp;mhs, 0, <span class="keyword">sizeof</span> (mhs));</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="mh_8c.html#a4e217582d8698bc0507d4bd5bc10875c">mh_read_sequences</a> (&amp;mhs, mailbox-&gt;path) &lt; 0)</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;  <span class="keywordflow">if</span> (check_stats)</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  {</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    mailbox-&gt;msg_count   = 0;</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    mailbox-&gt;msg_unread  = 0;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    mailbox-&gt;msg_flagged = 0;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;  }</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">for</span> (i = mhs.max; i &gt; 0; i--)</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;  {</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (check_stats &amp;&amp;</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        (<a class="code" href="mh_8c.html#a11a07dc043e9d13f6d19daf2b9f4eae2">mhs_check</a> (&amp;mhs, i) &amp; <a class="code" href="mh_8c.html#acd4b02f6f6422afa6b014e5795c9cc0d">MH_SEQ_FLAGGED</a>))</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;      mailbox-&gt;msg_flagged++;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="mh_8c.html#a11a07dc043e9d13f6d19daf2b9f4eae2">mhs_check</a> (&amp;mhs, i) &amp; <a class="code" href="mh_8c.html#a28ef3736b45bc532d96b2de611073047">MH_SEQ_UNSEEN</a>)</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    {</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;      <span class="keywordflow">if</span> (check_stats)</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        mailbox-&gt;msg_unread++;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;      <span class="keywordflow">if</span> (check_new)</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;      {</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="comment">/* if the first unseen message we encounter was in the mailbox during the</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">           last visit, don&#39;t notify about it */</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="mutt_8h.html#ae01642ac28c3b02ba17e0020477e90c1">option</a>(<a class="code" href="mutt_8h.html#a94798fdadfbf49a7c658ace669a1d310ae1af7e3d9b74a42af59d92ad58fd2233">OPTMAILCHECKRECENT</a>) || <a class="code" href="mh_8c.html#a881eafc933c6f5cd00a4dad4b8c9906f">mh_already_notified</a>(mailbox, i) == 0)</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        {</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;          mailbox-&gt;new = 1;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;          rc = 1;</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">/* Because we are traversing from high to low, we can stop</span></div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">         * checking for new mail after the first unseen message.</span></div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">         * Whether it resulted in &quot;new mail&quot; or not. */</span></div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;        check_new = 0;</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">if</span> (!check_stats)</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;          <span class="keywordflow">break</span>;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;      }</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    }</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;  }</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;  <a class="code" href="mh_8c.html#a560b67fd5cdb287de894762292c05a8b">mhs_free_sequences</a> (&amp;mhs);</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;  <span class="keywordflow">if</span> (check_stats)</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;  {</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="keywordflow">if</span> ((dirp = opendir (mailbox-&gt;path)) != <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    {</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;      <span class="keywordflow">while</span> ((de = readdir (dirp)) != <a class="code" href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;      {</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        <span class="keywordflow">if</span> (*de-&gt;d_name == <span class="charliteral">&#39;.&#39;</span>)</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;          <span class="keywordflow">continue</span>;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="mh_8c.html#acd2d35b62fbe8b71adb7958525d6c0a6">mh_valid_message</a> (de-&gt;d_name))</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;          mailbox-&gt;msg_count++;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;      }</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;      closedir (dirp);</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    }</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;  }</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;  <span class="keywordflow">return</span> rc;</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;}</div><div class="ttc" id="mh_8c_html_a4e217582d8698bc0507d4bd5bc10875c"><div class="ttname"><a href="mh_8c.html#a4e217582d8698bc0507d4bd5bc10875c">mh_read_sequences</a></div><div class="ttdeci">static int mh_read_sequences(struct mh_sequences *mhs, const char *path)</div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00174">mh.c:174</a></div></div>
<div class="ttc" id="explodename_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="explodename_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="explodename_8c_source.html#l00034">explodename.c:34</a></div></div>
<div class="ttc" id="mutt_8h_html_a94798fdadfbf49a7c658ace669a1d310ae1af7e3d9b74a42af59d92ad58fd2233"><div class="ttname"><a href="mutt_8h.html#a94798fdadfbf49a7c658ace669a1d310ae1af7e3d9b74a42af59d92ad58fd2233">OPTMAILCHECKRECENT</a></div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00450">mutt.h:450</a></div></div>
<div class="ttc" id="structmh__sequences_html"><div class="ttname"><a href="structmh__sequences.html">mh_sequences</a></div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00083">mh.c:83</a></div></div>
<div class="ttc" id="mh_8c_html_a28ef3736b45bc532d96b2de611073047"><div class="ttname"><a href="mh_8c.html#a28ef3736b45bc532d96b2de611073047">MH_SEQ_UNSEEN</a></div><div class="ttdeci">#define MH_SEQ_UNSEEN</div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00097">mh.c:97</a></div></div>
<div class="ttc" id="mh_8c_html_a560b67fd5cdb287de894762292c05a8b"><div class="ttname"><a href="mh_8c.html#a560b67fd5cdb287de894762292c05a8b">mhs_free_sequences</a></div><div class="ttdeci">static void mhs_free_sequences(struct mh_sequences *mhs)</div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00123">mh.c:123</a></div></div>
<div class="ttc" id="mutt_8h_html_ae01642ac28c3b02ba17e0020477e90c1"><div class="ttname"><a href="mutt_8h.html#ae01642ac28c3b02ba17e0020477e90c1">option</a></div><div class="ttdeci">#define option(x)</div><div class="ttdef"><b>Definition:</b> <a href="mutt_8h_source.html#l00631">mutt.h:631</a></div></div>
<div class="ttc" id="mh_8c_html_a11a07dc043e9d13f6d19daf2b9f4eae2"><div class="ttname"><a href="mh_8c.html#a11a07dc043e9d13f6d19daf2b9f4eae2">mhs_check</a></div><div class="ttdeci">static short mhs_check(struct mh_sequences *mhs, int i)</div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00128">mh.c:128</a></div></div>
<div class="ttc" id="mh_8c_html_acd2d35b62fbe8b71adb7958525d6c0a6"><div class="ttname"><a href="mh_8c.html#acd2d35b62fbe8b71adb7958525d6c0a6">mh_valid_message</a></div><div class="ttdeci">int mh_valid_message(const char *s)</div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00813">mh.c:813</a></div></div>
<div class="ttc" id="mh_8c_html_a881eafc933c6f5cd00a4dad4b8c9906f"><div class="ttname"><a href="mh_8c.html#a881eafc933c6f5cd00a4dad4b8c9906f">mh_already_notified</a></div><div class="ttdeci">static int mh_already_notified(BUFFY *b, int msgno)</div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00264">mh.c:264</a></div></div>
<div class="ttc" id="mh_8c_html_acd4b02f6f6422afa6b014e5795c9cc0d"><div class="ttname"><a href="mh_8c.html#acd4b02f6f6422afa6b014e5795c9cc0d">MH_SEQ_FLAGGED</a></div><div class="ttdeci">#define MH_SEQ_FLAGGED</div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00099">mh.c:99</a></div></div>
<div class="ttc" id="mh_8c_html_ad491f8a7a82fa41a0413b539d61442e2"><div class="ttname"><a href="mh_8c.html#ad491f8a7a82fa41a0413b539d61442e2">mh_sequences_changed</a></div><div class="ttdeci">static int mh_sequences_changed(BUFFY *b)</div><div class="ttdef"><b>Definition:</b> <a href="mh_8c_source.html#l00248">mh.c:248</a></div></div>
<div class="ttc" id="gettextP_8h_html_a68428151ad44e31b19041cdeb8972a91"><div class="ttname"><a href="gettextP_8h.html#a68428151ad44e31b19041cdeb8972a91">i</a></div><div class="ttdeci">static nls_uint32 nls_uint32 i</div><div class="ttdef"><b>Definition:</b> <a href="gettextP_8h_source.html#l00068">gettextP.h:68</a></div></div>
<div class="ttc" id="protos_8h_html_adb03df3679ce1445e801310614624ccb"><div class="ttname"><a href="protos_8h.html#adb03df3679ce1445e801310614624ccb">memset</a></div><div class="ttdeci">void * memset()</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a554ac0544233aef2fa0fbc0f87c760f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a554ac0544233aef2fa0fbc0f87c760f4">&#9670;&nbsp;</a></span>BuffyDoneTime</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">time_t BuffyDoneTime</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="buffy_8c_source.html#l00054">54</a> of file <a class="el" href="buffy_8c_source.html">buffy.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
